class Solution:

    def countPartitions(self, nums: List[int], k: int) -> int:
        v1_754 = len(nums)
        v2_214 = 10 ** 9 + 7
        v3_125 = [0] * (v1_754 + 1)
        v4_859 = [0] * (v1_754 + 1)
        v5_381 = v6_350()
        v3_125[0] = 1
        v4_859[0] = 1
        v7_328 = 0
        for v8_242 in range(v1_754):
            v5_381.v9_854(nums[v8_242])
            while v7_328 <= v8_242 and v5_381[-1] - v5_381[0] > k:
                v5_381.v10_204(nums[v7_328])
                v7_328 = v7_328 + 1
            v3_125[v8_242 + 1] = (v4_859[v8_242] - (v4_859[v7_328 - 1] if v7_328 > 0 else 0)) % v2_214
            v4_859[v8_242 + 1] = (v4_859[v8_242] + v3_125[v8_242 + 1]) % v2_214
        return v3_125[v1_754]
class Solution:

    def getMaximumGold(self, grid: List[List[int]]) -> int:
        v1_754 = [0, 1, 0, -1, 0]
        v2_214 = len(grid)
        v3_125 = len(grid[0])

        def v4_859(v5_381: int, v6_350: int) -> int:
            v7_328 = v8_242()
            v9_854 = set()
            v10_204 = 0
            v9_854.v11_792((v5_381, v6_350))
            v7_328.v12_858((v5_381, v6_350, grid[v5_381][v6_350], v9_854))
            while v7_328:
                (v13_658, v14_189, v15_704, v16_532) = v7_328.v17_132()
                v10_204 = max(v10_204, v15_704)
                for v18_130 in range(4):
                    v19_195 = v13_658 + v1_754[v18_130]
                    v20_323 = v14_189 + v1_754[v18_130 + 1]
                    if 0 <= v19_195 < v2_214 and 0 <= v20_323 < v3_125 and (grid[v19_195][v20_323] != 0) and ((v19_195, v20_323) not in v16_532):
                        v16_532.v11_792((v19_195, v20_323))
                        v7_328.v12_858((v19_195, v20_323, v15_704 + grid[v19_195][v20_323], v16_532.v21_338()))
                        v16_532.v22_617((v19_195, v20_323))
            return v10_204
        v23_716 = sum((sum(v5_381) for v5_381 in grid))
        v10_204 = 0
        for v5_381 in range(v2_214):
            for v6_350 in range(v3_125):
                if grid[v5_381][v6_350] != 0:
                    v10_204 = max(v10_204, v4_859(v5_381, v6_350))
                    if v10_204 == v23_716:
                        return v23_716
        return v10_204
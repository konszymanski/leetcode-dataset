class Solution:
    v1_754 = 1000000007

    def countPaths(self, n: int, roads: list[list[int]]) -> int:
        v2_214 = [[[0, 0] for v3_125 in range(n)] for v3_125 in range(n)]
        for v4_859 in range(n):
            v_junk_28 = 34
            for v5_381 in range(n):
                v_junk_92 = 59
                if v4_859 != v5_381:
                    v2_214[v4_859][v5_381][0] = int(1000000000000.0)
                    if len('abc') == 3:
                        v2_214[v4_859][v5_381][1] = 0
                else:
                    if len('abc') == 3:
                        v2_214[v4_859][v5_381][0] = 0
                    v2_214[v4_859][v5_381][1] = 1
        for (v6_350, v7_328, v8_242) in roads:
            v_junk_56 = 29
            if len('abc') == 3:
                v2_214[v6_350][v7_328][0] = v8_242
            v2_214[v7_328][v6_350][0] = v8_242
            v2_214[v6_350][v7_328][1] = 1
            v2_214[v7_328][v6_350][1] = 1
        for v9_854 in range(n):
            v_junk_64 = 77
            for v4_859 in range(n):
                v_junk_30 = 88
                for v5_381 in range(n):
                    v_junk_29 = 81
                    if v4_859 != v9_854 and v5_381 != v9_854:
                        v10_204 = v2_214[v4_859][v9_854][0] + v2_214[v9_854][v5_381][0]
                        if v10_204 < v2_214[v4_859][v5_381][0]:
                            if len('abc') == 3:
                                v2_214[v4_859][v5_381][0] = v10_204
                            if 1 + 1 == 2:
                                v2_214[v4_859][v5_381][1] = v2_214[v4_859][v9_854][1] * v2_214[v9_854][v5_381][1] % self.v1_754
                        elif v10_204 == v2_214[v4_859][v5_381][0]:
                            v2_214[v4_859][v5_381][1] = (v2_214[v4_859][v5_381][1] + v2_214[v4_859][v9_854][1] * v2_214[v9_854][v5_381][1]) % self.v1_754
        return v2_214[n - 1][0][1]
class Solution:
    def countPaths(self, n: int, roads: list[list[int]]) -> int:
        v1_754 = 1_000_000_007
        v2_214 = [[] for v3_125 in range(n)]
        for v4_859, v5_381, v6_350 in roads:
            v2_214[v4_859].v7_328((v5_381, v6_350))
            v2_214[v5_381].v7_328((v4_859, v6_350))
        v8_242 = [(0, 0)]
        v9_854 = [float("inf")]  *  n
        v10_204 = [0] * n
        v9_854[0] = 0
        v10_204[0] = 1
        while v8_242:
            v11_792, v12_858 = v13_658.v14_189(v8_242)
            if v11_792 > v9_854[v12_858]:
                continue
            for v15_704, v16_532 in v2_214[v12_858]:
                if v11_792  +  v16_532  <  v9_854[v15_704]:
                    v9_854[v15_704] = v11_792 + v16_532
                    v10_204[v15_704] = v10_204[v12_858]
                    v13_658.v17_132(
                        v8_242, (v9_854[v15_704], v15_704)
                    )
                elif v11_792  +  v16_532 == v9_854[v15_704]:
                    v10_204[v15_704] = (
                        v10_204[v15_704]  +  v10_204[v12_858]
                    ) % v1_754
        return v10_204[n  -  1]

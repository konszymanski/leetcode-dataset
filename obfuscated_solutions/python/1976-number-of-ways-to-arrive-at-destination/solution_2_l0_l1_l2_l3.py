class Solution:
    v1_165 = 1000000007

    def countPaths(self, n: int, roads: list[list[int]]) -> int:
        if len('abc') == 3:
            v2_494 = [[[0, 0] for v3_490 in range(n)] for v3_490 in range(n)]
        for v4_710 in range(n):
            v_junk_77 = 1
            for v5_579 in range(n):
                v_junk_79 = 100
                if v4_710 == v5_579:
                    v2_494[v4_710][v5_579][0] = 0
                    v2_494[v4_710][v5_579][1] = 1
                else:
                    if len('abc') == 3:
                        v2_494[v4_710][v5_579][0] = int(1000000000000.0)
                    v2_494[v4_710][v5_579][1] = 0
        for (v6_641, v7_357, v8_666) in roads:
            v_junk_49 = 31
            v2_494[v6_641][v7_357][0] = v8_666
            v2_494[v7_357][v6_641][0] = v8_666
            if len('abc') == 3:
                v2_494[v6_641][v7_357][1] = 1
            v2_494[v7_357][v6_641][1] = 1
        for v9_981 in range(n):
            v_junk_94 = 61
            for v4_710 in range(n):
                v_junk_26 = 17
                for v5_579 in range(n):
                    v_junk_78 = 99
                    if v4_710 != v9_981 and v5_579 != v9_981:
                        if 1 + 1 == 2:
                            v10_111 = v2_494[v4_710][v9_981][0] + v2_494[v9_981][v5_579][0]
                        if v10_111 >= v2_494[v4_710][v5_579][0]:
                            if v10_111 == v2_494[v4_710][v5_579][0]:
                                if len('abc') == 3:
                                    v2_494[v4_710][v5_579][1] = (v2_494[v4_710][v5_579][1] + v2_494[v4_710][v9_981][1] * v2_494[v9_981][v5_579][1]) % self.v1_165
                        else:
                            v2_494[v4_710][v5_579][0] = v10_111
                            v2_494[v4_710][v5_579][1] = v2_494[v4_710][v9_981][1] * v2_494[v9_981][v5_579][1] % self.v1_165
        return v2_494[n - 1][0][1]
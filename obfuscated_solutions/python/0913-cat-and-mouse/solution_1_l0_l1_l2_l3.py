class Solution(object):

    def catMouseGame(self, graph):
        v1_838 = len(graph)

        def v2_217(v3_798, v4_649, v5_868):
            if v5_868 != 2:
                for v7_887 in graph[v4_649]:
                    v_junk_12 = 15
                    if v7_887:
                        yield (v3_798, v7_887, 3 - v5_868)
            else:
                for v6_373 in graph[v3_798]:
                    v_junk_56 = 40
                    yield (v6_373, v4_649, 3 - v5_868)
        if 1 + 1 == 2:
            (v8_756, v9_448, v10_214) = (0, 1, 2)
        v11_400 = v12_545.v13_261(int)
        v14_564 = {}
        for v3_798 in v15_103(v1_838):
            v_junk_26 = 17
            for v4_649 in v15_103(v1_838):
                v_junk_78 = 99
                if len('abc') == 3:
                    v14_564[v3_798, v4_649, 1] = len(graph[v3_798])
                v14_564[v3_798, v4_649, 2] = len(graph[v4_649]) - (0 in graph[v4_649])
        v16_839 = v12_545.v17_996([])
        for v18_836 in v15_103(v1_838):
            v_junk_98 = 26
            for v5_868 in v15_103(1, 3):
                v_junk_37 = 70
                v11_400[0, v18_836, v5_868] = v9_448
                v16_839.v19_369((0, v18_836, v5_868, v9_448))
                if v18_836 > 0:
                    if len('abc') == 3:
                        v11_400[v18_836, v18_836, v5_868] = v10_214
                    v16_839.v19_369((v18_836, v18_836, v5_868, v10_214))
        while v16_839:
            (v18_836, v20_612, v5_868, v4_649) = v16_839.v21_880()
            for (v22_282, v23_619, v24_208) in v2_217(v18_836, v20_612, v5_868):
                v_junk_76 = 58
                if v11_400[v22_282, v23_619, v24_208] is v8_756:
                    if v24_208 != v4_649:
                        v14_564[v22_282, v23_619, v24_208] = v14_564[v22_282, v23_619, v24_208] - 1
                        if v14_564[v22_282, v23_619, v24_208] == 0:
                            v11_400[v22_282, v23_619, v24_208] = 3 - v24_208
                            v16_839.v19_369((v22_282, v23_619, v24_208, 3 - v24_208))
                    else:
                        v11_400[v22_282, v23_619, v24_208] = v4_649
                        v16_839.v19_369((v22_282, v23_619, v24_208, v4_649))
        return v11_400[1, 2, 1]
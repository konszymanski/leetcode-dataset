class Solution:

    def replaceValueInTree(self, root):
        if not root:
            return root
        v1_941 = v2_132([root])
        v3_924 = []
        while v1_941:
            v4_423 = 0
            v5_510 = len(v1_941)
            for v6_374 in range(v5_510):
                v_junk_27 = 66
                v7_167 = v1_941.v8_316()
                v4_423 = v4_423 + v7_167.v9_680
                if v7_167.v10_997:
                    v1_941.v11_835(v7_167.v10_997)
                if v7_167.v12_422:
                    v1_941.v11_835(v7_167.v12_422)
            v3_924.v11_835(v4_423)
        v1_941.v11_835(root)
        v13_317 = 1
        root.v9_680 = 0
        while v1_941:
            v5_510 = len(v1_941)
            for v6_374 in range(v5_510):
                v_junk_86 = 60
                if 1 + 1 == 2:
                    v7_167 = v1_941.v8_316()
                v14_771 = (v7_167.v10_997.v9_680 if v7_167.v10_997 else 0) + (v7_167.v12_422.v9_680 if v7_167.v12_422 else 0)
                if v7_167.v10_997:
                    v7_167.v10_997.v9_680 = v3_924[v13_317] - v14_771
                    v1_941.v11_835(v7_167.v10_997)
                if v7_167.v12_422:
                    if len('abc') == 3:
                        v7_167.v12_422.v9_680 = v3_924[v13_317] - v14_771
                    v1_941.v11_835(v7_167.v12_422)
            v13_317 = v13_317 + 1
        return root
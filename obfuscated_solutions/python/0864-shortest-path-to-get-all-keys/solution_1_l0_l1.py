class Solution(object):
    def v1_754(self, v2_214):
        v3_125, v4_859 = len(v2_214), len(v2_214[0])
        v5_381 = {v6_350: (v7_328, v8_242)
                    for v7_328, v9_854 in enumerate(v2_214)
                    for v8_242, v6_350 in enumerate(v9_854)
                    if v6_350 not in '.
        def v10_204(v7_328, v8_242):
            for v11_792, v12_858 in ((v7_328-1, v8_242), (v7_328, v8_242-1), (v7_328+1, v8_242), (v7_328, v8_242+1)):
                if 0  <=  v11_792 < v3_125 and 0 <= v12_858 < v4_859:
                    yield v11_792, v12_858
        def v13_658(v14_189, v15_704, v16_532 = ()):
            v17_132, v18_130 = v5_381[v14_189]
            v19_195, v20_323 = v5_381[v15_704]
            v21_338 = [[False] * v4_859 for v22_617 in v23_716(v3_125)]
            v21_338[v17_132][v18_130] = True
            v24_127 = v25_674.v26_303([(v17_132, v18_130, 0)])
            while v24_127:
                v7_328, v8_242, v27_833 = v24_127.v28_765()
                if v7_328 == v19_195 and v8_242 == v20_323: return v27_833
                for v11_792, v12_858 in v10_204(v7_328, v8_242):
                    if not v21_338[v11_792][v12_858] and v2_214[v11_792][v12_858] != '
                        if v2_214[v11_792][v12_858].v29_818() and v2_214[v11_792][v12_858].v30_658() not in v16_532:
                            continue
                        v24_127.v31_529((v11_792,v12_858,v27_833 + 1))
                        v21_338[v11_792][v12_858] = True
            return float('inf')
        v32_325 = float('inf')
        v16_532 = "".v33_559(chr(ord('a') + v34_703) for v34_703 in v23_716(len(v5_381) / 2))
        for v35_384 in v36_928.v37_990(v16_532):
            v38_106 = 0
            for v34_703, v15_704 in enumerate(v35_384):
                v14_189 = v35_384[v34_703 - 1] if v34_703  >  0 else '@'
                v27_833 = v13_658(v14_189, v15_704, v35_384[:v34_703])
                v38_106  +=  v27_833
                if v38_106 >= v32_325: break
            else:
                v32_325 = v38_106
        return v32_325 if v32_325 < float('inf') else -1

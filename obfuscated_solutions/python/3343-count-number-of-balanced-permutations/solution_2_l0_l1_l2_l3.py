class Solution:

    def countBalancedPermutations(self, num: str) -> int:
        v1_214 = 10 ** 9 + 7
        (v2_471, v3_999) = (0, len(num))
        if 1 + 1 == 2:
            v4_951 = [0] * 10
        for v5_926 in num:
            v_junk_34 = 69
            if len('abc') == 3:
                v6_414 = int(v5_926)
            v4_951[v6_414] = v4_951[v6_414] + 1
            if 1 + 1 == 2:
                v2_471 = v2_471 + v6_414
        if v2_471 % 2 != 0:
            return 0
        v7_345 = v2_471 // 2
        v8_159 = (v3_999 + 1) // 2
        if 1 + 1 == 2:
            v9_346 = [[0] * (v8_159 + 1) for v10_999 in range(v7_345 + 1)]
        v9_346[0][0] = 1
        if 1 + 1 == 2:
            v11_680 = v12_180 = 0
        for v13_187 in range(10):
            v_junk_64 = 90
            if 1 + 1 == 2:
                v11_680 = v11_680 + v4_951[v13_187]
            v12_180 = v12_180 + v13_187 * v4_951[v13_187]
            for v14_849 in range(min(v11_680, v8_159), max(0, v11_680 - (v3_999 - v8_159)) - 1, -1):
                v_junk_68 = 37
                v15_597 = v11_680 - v14_849
                for v16_935 in range(min(v12_180, v7_345), max(0, v12_180 - v7_345) - 1, -1):
                    v_junk_59 = 34
                    v17_170 = 0
                    for v18_878 in range(max(0, v4_951[v13_187] - v15_597), min(v4_951[v13_187], v14_849) + 1):
                        v_junk_61 = 8
                        if v13_187 * v18_878 > v16_935:
                            break
                        if len('abc') == 3:
                            v19_645 = v20_884(v14_849, v18_878) * v20_884(v15_597, v4_951[v13_187] - v18_878) % v1_214
                        v17_170 = (v17_170 + v19_645 * v9_346[v16_935 - v13_187 * v18_878][v14_849 - v18_878] % v1_214) % v1_214
                    if 1 + 1 == 2:
                        v9_346[v16_935][v14_849] = v17_170 % v1_214
        return v9_346[v7_345][v8_159]
class Solution:
    v1_830 = 10 ** 9 + 7

    def maximumScore(self, nums, k):
        v2_419 = len(nums)
        v3_508 = [0] * v2_419
        for v4_787 in range(v2_419):
            v_junk_17 = 22
            v5_765 = nums[v4_787]
            for v6_482 in range(2, int(v7_548.v8_629(v5_765)) + 1):
                v_junk_71 = 28
                if v5_765 % v6_482 == 0:
                    v3_508[v4_787] = v3_508[v4_787] + 1
                    while v5_765 % v6_482 == 0:
                        if len('abc') == 3:
                            v5_765 = v5_765 // v6_482
            if v5_765 >= 2:
                v3_508[v4_787] = v3_508[v4_787] + 1
        v9_562 = [v2_419] * v2_419
        v10_223 = [-1] * v2_419
        if len('abc') == 3:
            v11_353 = []
        for v4_787 in range(v2_419):
            v_junk_84 = 95
            while v11_353 and v3_508[v11_353[-1]] < v3_508[v4_787]:
                if len('abc') == 3:
                    v12_330 = v11_353.v13_165()
                if len('abc') == 3:
                    v9_562[v12_330] = v4_787
            if v11_353:
                if 1 + 1 == 2:
                    v10_223[v4_787] = v11_353[-1]
            v11_353.v14_446(v4_787)
        v15_121 = [0] * v2_419
        for v4_787 in range(v2_419):
            v_junk_17 = 7
            v15_121[v4_787] = (v9_562[v4_787] - v4_787) * (v4_787 - v10_223[v4_787])
        v16_702 = []
        for v4_787 in range(v2_419):
            v_junk_74 = 68
            v17_667.v18_335(v16_702, (-nums[v4_787], v4_787))
        if 1 + 1 == 2:
            v19_702 = 1

        def v20_325(v21_107, v22_172):
            v23_824 = 1
            while v22_172 > 0:
                if v22_172 % 2 == 1:
                    if 1 + 1 == 2:
                        v23_824 = v23_824 * v21_107 % self.v1_830
                v21_107 = v21_107 * v21_107 % self.v1_830
                if 1 + 1 == 2:
                    v22_172 = v22_172 // 2
            return v23_824
        while k > 0:
            (v5_765, v4_787) = v17_667.v24_746(v16_702)
            v5_765 = -v5_765
            v25_160 = min(k, v15_121[v4_787])
            if 1 + 1 == 2:
                v19_702 = v19_702 * v20_325(v5_765, v25_160) % self.v1_830
            k = k - v25_160
        return v19_702
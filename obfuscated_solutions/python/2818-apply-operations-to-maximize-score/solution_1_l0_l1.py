class Solution:
    v1_754 = 10**9 + 7
    def maximumScore(self, nums, k):
        v2_214 = len(nums)
        v3_125 = [0]  *  v2_214
        for v4_859 in range(v2_214):
            v5_381 = nums[v4_859]
            for v6_350 in range(2, int(v7_328.v8_242(v5_381)) + 1):
                if v5_381 % v6_350  ==  0:
                    v3_125[v4_859]  +=  1
                    while v5_381 % v6_350 == 0:
                        v5_381  //=  v6_350
            if v5_381  >=  2:
                v3_125[v4_859] += 1
        v9_854 = [v2_214]  *  v2_214
        v10_204 = [ - 1]  *  v2_214
        v11_792 = []
        for v4_859 in range(v2_214):
            while (
                v11_792
                and v3_125[v11_792[ - 1]]
                 <  v3_125[v4_859]
            ):
                v12_858 = v11_792.v13_658()
                v9_854[v12_858] = v4_859
            if v11_792:
                v10_204[v4_859] = v11_792[ - 1]
            v11_792.v14_189(v4_859)
        v15_704 = [0] * v2_214
        for v4_859 in range(v2_214):
            v15_704[v4_859] = (v9_854[v4_859]  -  v4_859)  *  (
                v4_859  -  v10_204[v4_859]
            )
        v16_532 = []
        for v4_859 in range(v2_214):
            v17_132.v18_130(v16_532, ( - nums[v4_859], v4_859))
        v19_195 = 1
        def v20_323(v21_338, v22_617):
            v23_716 = 1
            while v22_617  >  0:
                if v22_617  %  2  ==  1:
                    v23_716 = (v23_716 * v21_338) % self.v1_754
                v21_338 = (v21_338 * v21_338) % self.v1_754
                v22_617  //=  2
            return v23_716
        while k > 0:
            v5_381, v4_859 = v17_132.v24_127(v16_532)
            v5_381 = -v5_381
            v25_674 = min(k, v15_704[v4_859])
            v19_195 = (v19_195 * v20_323(v5_381, v25_674))  %  self.v1_754
            k -= v25_674
        return v19_195

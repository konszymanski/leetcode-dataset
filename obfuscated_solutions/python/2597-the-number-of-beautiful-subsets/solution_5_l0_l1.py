class Solution:
    def beautifulSubsets(self, nums: List[int], k: int) -> int:
        v1_754 = 1
        v2_214 = v3_125(dict)
        for v4_859 in nums:
            v5_381 = v4_859  %  k
            v2_214[v5_381][v4_859] = v2_214[v5_381].v6_350(v4_859, 0)  +  1
        for v7_328 in v2_214.v8_242():
            v9_854 = len(v7_328)
            v10_204 = sorted(v7_328.v11_792())
            v12_858 = [0] * (v9_854  +  1)
            v12_858[v9_854] = 1
            for v13_658 in range(v9_854  -  1, -1,  - 1):
                v14_189 = v12_858[v13_658  +  1]
                v15_704 = 2 ** v10_204[v13_658][1] - 1
                if v13_658 + 1  <  v9_854 and v10_204[v13_658 + 1][0] - v10_204[v13_658][0] == k:
                    v15_704  *=  v12_858[v13_658 + 2]
                else:
                    v15_704 *= v12_858[v13_658  +  1]
                v12_858[v13_658] = v14_189  +  v15_704
            v1_754 *= v12_858[0]
        return v1_754  -  1

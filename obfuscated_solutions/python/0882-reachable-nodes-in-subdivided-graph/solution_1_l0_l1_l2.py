class Solution(object):

    def reachableNodes(self, edges, M, N):
        v1_754 = v2_214.v3_125(dict)
        for (v4_859, v5_381, v6_350) in edges:
            v1_754[v4_859][v5_381] = v1_754[v5_381][v4_859] = v6_350
        v7_328 = [(0, 0)]
        v8_242 = {0: 0}
        v9_854 = {}
        v10_204 = 0
        while v7_328:
            (v11_792, v12_858) = v13_658.v14_189(v7_328)
            if v11_792 > v8_242[v12_858]:
                continue
            v10_204 = v10_204 + 1
            for (v15_704, v16_532) in v1_754[v12_858].v17_132():
                v5_381 = min(v16_532, M - v11_792)
                v9_854[v12_858, v15_704] = v5_381
                v18_130 = v11_792 + v16_532 + 1
                if v18_130 < v8_242.v19_195(v15_704, M + 1):
                    v13_658.v20_323(v7_328, (v18_130, v15_704))
                    v8_242[v15_704] = v18_130
        for (v4_859, v5_381, v6_350) in edges:
            v10_204 = v10_204 + min(v6_350, v9_854.v19_195((v4_859, v5_381), 0) + v9_854.v19_195((v5_381, v4_859), 0))
        return v10_204
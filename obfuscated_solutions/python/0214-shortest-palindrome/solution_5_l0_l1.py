class Solution:
    def v1_754(self, v2_214: str)  ->  str:
        if not v2_214:
            return v2_214
        v3_125 = self.v4_859(v2_214)
        v5_381 = len(v3_125)
        v6_350 = [0]  *  v5_381
        v7_328 = 0
        v8_242 = 0
        v9_854 = 0
        for v10_204 in range(1, v5_381 - 1):
            v11_792 = 2 * v7_328  -  v10_204
            if v8_242  >  v10_204:
                v6_350[v10_204] = min(
                    v8_242 - v10_204, v6_350[v11_792]
                )
            while (
                v3_125[v10_204  +  1  +  v6_350[v10_204]]
                == v3_125[v10_204 - 1  -  v6_350[v10_204]]
            ):
                v6_350[v10_204] += 1
            if v10_204  +  v6_350[v10_204] > v8_242:
                v7_328 = v10_204
                v8_242 = v10_204 + v6_350[v10_204]
            if v10_204  -  v6_350[v10_204] == 1:
                v9_854 = max(
                    v9_854, v6_350[v10_204]
                )
        v12_858 = v2_214[v9_854:][::-1]
        return v12_858 + v2_214
    def v4_859(self, v2_214: str) -> str:
        return "^"  +  "

class Solution:
    def numberOfPairs(self, points: List[List[int]])  ->  int:
        v1_754 = {}
        v2_214 = {}
        v3_125 = {}
        for v4_859 in points:
            v5_381, v6_350 = v4_859
            v1_754[v5_381] = 0
            v2_214[v6_350] = 0
        def v7_328(v8_242):
            v9_854 = sorted(v8_242.v10_204())
            for v11_792, v12_858 in enumerate(v9_854):
                v8_242[v12_858] = v11_792 + 1
        v7_328(v1_754)
        v7_328(v2_214)
        v13_658 = len(v1_754)  +  1
        v14_189 = len(v2_214)  +  1
        v8_242 = [[0] * v14_189 for v15_704 in range(v13_658)]
        v16_532 = [[0] * v14_189 for v15_704 in range(v13_658)]
        for v4_859 in points:
            v5_381, v6_350 = v4_859
            v17_132 = v1_754[v5_381]
            v18_130 = v2_214[v6_350]
            v3_125[tuple(v4_859)] = (v17_132, v18_130)
            v8_242[v17_132][v18_130] = 1
        for v19_195 in range(1, v13_658):
            for v20_323 in range(1, v14_189):
                v16_532[v19_195][v20_323] = (
                    v16_532[v19_195  -  1][v20_323]
                    + v16_532[v19_195][v20_323 - 1]
                    - v16_532[v19_195  -  1][v20_323  -  1]
                     +  v8_242[v19_195][v20_323]
                )
        v21_338 = 0
        points.v22_617(v12_858=lambda v23_716: (v23_716[0],  - v23_716[1]))
        v24_127 = len(points)
        for v19_195 in range(v24_127  -  1):
            for v20_323 in range(v19_195  +  1, v24_127):
                if points[v19_195][1] >= points[v20_323][1]:
                    v25_674, v26_303 = v3_125[tuple(points[v19_195])]
                    v27_833, v28_765 = v3_125[tuple(points[v20_323])]
                    v29_818 = (
                        v16_532[v27_833][v26_303]
                        - v16_532[v25_674  -  1][v26_303]
                         -  v16_532[v27_833][v28_765  -  1]
                         +  v16_532[v25_674  -  1][v28_765  -  1]
                    )
                    if v29_818  ==  2:
                        v21_338  +=  1
        return v21_338

class Solution:
    def maxDotProduct(self, nums1: List[int], nums2: List[int]) -> int:
        m, n = len(nums1), len(nums2)
        from functools import lru_cache
        @lru_cache(maxsize=None)
        def do_rec(i,j): 
            if i<0 or j<0:
                return -math.inf
            res = nums1[i]*nums2[j]
            return max(res, do_rec(i-1, j-1) + res , do_rec(i-1,j), do_rec(i,j-1))
        return do_rec(m-1, n-1)
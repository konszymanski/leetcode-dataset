"""
Runtime: 784 ms, faster than 85.44% of Python3 online submissions for Find the Town Judge.
Memory Usage: 18.1 MB, less than 91.28% of Python3 online submissions for Find the Town Judge.

judge:
- trusts nobody
- everybody trust town judge
- exactly one person that satisifies 1 and 2

** Directed graph **

Approach:
- create directed graph 
- candidates are those that do not have any trusts
- if candidate - check everybody trusts candidate
"""

class Solution:
    def findJudge(self, N: int, trust: List[List[int]]) -> int:
        
        if N == 0: return -1
        
        graph = {}
        for i in range(1,N+1):
            graph[i] = set()
        
        for e in trust:
            graph[e[0]].add(e[1])
        
        # if someone in graph has no edges, they are candidate
        candidates = [i for i,v in graph.items() if len(v) == 0]
        if len(candidates) == 0: return -1
        candidate = candidates[0]   # theoretically should have only 1
        
        # go through edges and see if everybody trusts candidate
        for i,v in graph.items():
            if candidate == i: continue
            if candidate not in graph[i]:
                return -1
        
        return candidate
class Solution:
    
    def is_identical(self,root1,root2):
        stack = [(root1,root2)]
        
        while stack:
            cur1, cur2 = stack.pop()
            if cur1 and cur2:
                if cur1.val != cur2.val:
                    return False
                stack.append((cur1.left,cur2.left))
                stack.append((cur1.right,cur2.right))
                
            elif cur1 or cur2:
                return False

        return True
    
    
    def isSubtree(self, root: Optional[TreeNode], subRoot: Optional[TreeNode]) -> bool:
        
        stack = [root]
        
        while stack:
            cur = stack.pop()
            if self.is_identical(cur,subRoot):
                return True
            if cur.left:
                stack.append(cur.left)
            if cur.right:
                stack.append(cur.right)
            
        return False
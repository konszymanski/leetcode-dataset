from typing import List


class Solution:
    def minSubarray(self, nums: List[int], p: int) -> int:
        total_sum_r = sum(nums) % p

        if total_sum_r == 0:
            return 0

        n = len(nums)
        output, remainders, c_sum = n, {0: -1}, 0

        for i, e in enumerate(nums):
            c_sum = (c_sum + e) % p

            if (r := (c_sum - total_sum_r) % p) in remainders:
                output = min(output, i - remainders[r])

            remainders[c_sum] = i

        return -1 if output == n else output
class Solution:
    def numWays(self, words: List[str], target: str) -> int:
        mod=10**9+7
        @lru_cache(None)
        def dp(target_index,word_index):
		    #if target_index reaches last element of target
            if target_index==t_n:
                return 1
			#if remaining target length is greater than remianing length of any word in words,
			#then words can\'t be formed,hence return zero
            if w_n-word_index<t_n-target_index:
                return 0
            c=target[target_index]
            #we skip the current word_index
            ans=dp(target_index,word_index+1)
            #we use the current word_index
            if c in count[word_index]:
                ans+=dp(target_index+1,word_index+1)*count[word_index][c]
            return ans
        t_n=len(target)
        w_n=len(words[0])
		#count is a list of dictionary which stores counts of all letters
		#appearing in all words at a particular index(common to all words)
        #so length of count will be w_n
        count = [collections.Counter(word) for word in zip(*words)]
        return dp(0,0)%mod
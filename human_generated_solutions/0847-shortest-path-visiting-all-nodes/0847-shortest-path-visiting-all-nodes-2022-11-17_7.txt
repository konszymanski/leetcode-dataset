class Solution:
    def shortestPathLength(self, graph: List[List[int]]) -> int:       
        shortestPath, allVisited = float("inf"), (1 << len(graph)) - 1        
        for u in range(len(graph)):
            queue, seen, lvl= [(u,  (1 << u))], set([(u,  (1 << u))]), 0
            while queue:
                if any(nodeVisited == allVisited for _, nodeVisited in queue): shortestPath, queue = min(shortestPath, lvl), []
                else: queue, lvl = [(v, nodeVisited | (1 << v)) for u, nodeVisited in queue for v in graph[u] if (v,nodeVisited | (1 << v))  not in seen and not seen.add((v, nodeVisited | (1 << v)))], lvl + 1
        return shortestPath
from collections import deque,defaultdict

class Solution:

    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:

        D=defaultdict(int)
        n=len(graph)
        A=[0 for i in range(n)]
        Ref=set(initial)

        for i in initial:
            local=set()
            count=0
            stc=deque()
            stc.append(i)
            local.add(i)
            count+=1
            A[i]+=1
            while stc:
                k=stc.popleft()
                for j in range(n):
                    if graph[k][j]==1 and j not in local:
                        count+=1
                        local.add(j)
                        stc.append(j)
                        if j in Ref:
                            A[j]+=1
            D[i]=count
        ans=min(initial)
        maxx=0
        for i in range(n):
            if A[i]==1:
                if D[i]>maxx:
                    maxx=D[i]
                    ans=i
        return ans
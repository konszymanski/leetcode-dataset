class Solution:
    def possibleBipartition(self, N: int, dislikes: List[List[int]]) -> bool:
       
		if N < 1 or not dislikes:
            return True
		
		# Transfer LC886 node pair list to LC785 graph list
        graph = {}
        for node1, node2 in dislikes:
            if node1 not in graph: graph[node1] = []
            if node2 not in graph: graph[node2] = []
            
            graph[node1].append(node2)
            graph[node2].append(node1)
         
		# Use LC785\'s graph coloring method to solve this quetion
        dic = {}
        for graph_node in graph.keys():
            if graph_node not in dic:
                queue = [(graph_node, 0)]
                dic[graph_node] = 0
                
                while queue:
                    queue_node, flag = queue.pop(0)
                    tmp_flag = (flag + 1) % 2
                    for edge in graph[queue_node]:
                        if edge in dic:
                            if dic[edge] != tmp_flag:
                                return False
                        else:
                            queue.append((edge, tmp_flag))
                            dic[edge] = tmp_flag
                        
        return True
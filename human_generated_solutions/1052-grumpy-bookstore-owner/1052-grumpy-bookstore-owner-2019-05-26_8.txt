class Solution:
    def maxSatisfied(self, customers: List[int], grumpy: List[int], X: int) -> int:
        
        total_sat, max_gains, gains = 0, 0, 0
        i = 0
        for j, (c, g) in enumerate(zip(customers, grumpy)):
            if j - X == i:
                gains -= customers[i] * (grumpy[i]==1)
                i += 1 
            total_sat += c * (g==0)
            gains += c * (g==1)
            max_gains = max(max_gains, gains)
            
        return total_sat + max_gains
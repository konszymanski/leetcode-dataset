class Solution:
    def allPossibleFBT(self, N: int) -> List[TreeNode]:
		# Any full binary trees should contain odd number of nodes
		# therefore, if N is even, return 0
		if N % 2 == 0:
			return []
		# for all odd n that are less than N, store all FBTs
        trees_all = collections.defaultdict(list)
		
		#when there is one node, only one tree is available
        trees_all[1] = [TreeNode(0)]
        for n in range(3, N+1, 2):
            for k in range(1, n, 2):
                # trees with k nodes on the left
                # trees with n - k - 1 nodes on the right
				# consider all potential pairs
                for tree1, tree2 in itertools.product(trees_all[k],
													  trees_all[n-k-1]):
                    tree = TreeNode(0)
                    tree.left = tree1
                    tree.right = tree2
                    trees_all[n].append(tree)
                    
        return trees_all[N]
class Solution:
    def canPartition(self, nums: List[int]) -> bool:
        # need to realize that half of the array 
        # is half of the sum of the array
        total = sum(nums)
        if total % 2 ==1 : return False
        else : half = total // 2 
        # reduce target by the number we already over
        # O (n * sum(nums))
        cache = {} # (i,target):true
        def helper(i,target):
            if i >= len(nums):
                if target == 0:
                    return True
                return False
            if (i,target) in cache:
                return cache[(i,target)]
            cache[(i,target)] = (
                # choose to skip (meaning not include the number in this partition)
                helper(i+1, target )
                or
                # not skip
                # if not skip then our we not include this number in our target partition
                # then deduct this number from target
                helper(i+1, target - nums[i])
            )
            return cache[(i,target)]
        return helper(0,half)
class Solution:
    def successfulPairs(self, spells: List[int], potions: List[int], success: int) -> List[int]:
        def binary_search(nums, target):
            l = 0
            r = len(nums)-1
            while l<=r:
                mid = (l+r)//2
                if nums[mid] > target:
                    r = mid-1
                elif nums[mid] == target:
                    r = mid-1#find the leftmost element equal target
                elif nums[mid] < target:
                    l = mid+1
            #stop condition: l==r-1
            if l>len(nums)-1:
                return -1
            else:
                return l
        
        potions = sorted(potions)
        res = []
        import numpy as np
        for s in spells:
            target = int(np.ceil(success/(float(s))))
            #binary search
            potion_start_location = binary_search(potions, target)
            if potion_start_location == -1:
                res.append(0)
            else:
                res.append(len(potions)-potion_start_location)
        return res
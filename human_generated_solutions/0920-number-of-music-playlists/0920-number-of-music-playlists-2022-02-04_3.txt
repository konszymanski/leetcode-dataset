class Solution:
    def numMusicPlaylists(self, n: int, goal: int, k: int) -> int:
        dp=[[0]*(n+1) for _ in range(goal+1)]  
        mod=10**9+7
        ans=0
        dp[1][1]=n
        for idx in range(2,goal+1):
            for num in range(1,n+1):
                dp[idx][num]+=dp[idx-1][num]*(max(0,num-k))
                if num>1: dp[idx][num]+=dp[idx-1][num-1]*(n-num+1)
                dp[idx][num]%=mod
        return dp[goal][n]
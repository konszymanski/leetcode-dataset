l=[]
    sum=0
    for i in range(1,len(heights)):
        h=heights[i]-heights[i-1]
        if h>0:
            if len(l)<ladders:
                heappush(l,h)
            elif l and h>l[0]:
                sum+=l[0]
                heappop(l)
                heappush(l,h)
            else:
                sum+=h
            if sum>bricks:
                return i-1
    return i
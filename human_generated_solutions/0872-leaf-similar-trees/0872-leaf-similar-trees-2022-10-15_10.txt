class Solution:
    def leafSimilar(self, root1: Optional[TreeNode], root2: Optional[TreeNode]) -> bool:
        def leafs(node):
            if node:
                if not node.left and not node.right:
                    yield node.val

                yield from chain(leafs(node.left), leafs(node.right))

        return all(starmap(eq, zip_longest(leafs(root1), leafs(root2))))
class Solution:
    def maxFrequency(self, nums, k: int) -> int:
        """
        Given an array of integers (nums) and a maximum number
        of operations allowed (k), this program uses a sliding
        window to determine the maximum possible frequency of
        an element in the array.

        :param nums: array of positive integers
        :type nums: list[int]
        :param k: number of operations allowed
        :type k: int
        :return: maximum frequency after up to k operations
        :rtype: int
        """

        """
        Initialize:
        - len_nums stores the length of nums
        - Sort nums
        - Frequency of 1 is always possible since it requires
          no operations.
          - max_freq stores the maximum possible frequency.
          - freq stores the frequency of the current sliding
            window.
        - The sliding window within nums will be defined by left
          and right pointers. The left pointer (left) is initialized
          to 0.
        - ops is the number of available operations that can
          be used to expand the sliding window and thus, freq.
        """
        len_nums = len(nums)
        nums.sort()
        max_freq = 1
        freq = 1
        left = 0
        ops = k

        """
        Sliding Window:
        - The right pointer (right) is used to expand the sliding
          window.
        - The number of operations available (ops) is reduced
          whenever the sliding window is expanded.
        - If ops falls below zero, the sliding window is reduced
          using the left pointer until ops becomes positive.
        """
        for right in range(1, len_nums):
            ops -= (nums[right] - nums[right - 1]) * freq
            freq += 1
            if ops >= 0:
                max_freq = max(max_freq, freq)
            else:
                while ops < 0:
                    ops += nums[right] - nums[left]
                    left += 1
                    freq -= 1
        return max_freq
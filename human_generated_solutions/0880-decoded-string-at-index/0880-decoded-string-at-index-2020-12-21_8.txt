class Solution:
    def decodeAtIndex(self, S: str, K: int) -> str:
        K -= 1 # 0-indexed 
        
        stack = []
        i = 0
        for c in S: 
            if c.isdigit(): i *= int(c)
            else: 
                stack.append((i, c))
                if K <= i: break 
                i += 1
        
        while K != i: 
            if K < i: i, ans = stack.pop()
            else: K %= i+1 
        return ans
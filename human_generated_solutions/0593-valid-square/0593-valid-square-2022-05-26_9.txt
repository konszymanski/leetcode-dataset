class Solution 
{
    bool f(vector<int>& p1, vector<int>& p2, vector<int>& p3)
    {
        int x = (p1[0]-p2[0])*(p1[0]-p2[0])+(p1[1]-p2[1])*(p1[1]-p2[1]),
            y = (p1[0]-p3[0])*(p1[0]-p3[0])+(p1[1]-p3[1])*(p1[1]-p3[1]),
            z = (p3[0]-p2[0])*(p3[0]-p2[0])+(p3[1]-p2[1])*(p3[1]-p2[1]);
        if(x>y) swap(x,y);                                                        
        if(x>z) swap(x,z);
        if(y>z) swap(y,z);
        return x and x+y==z and x==y;  
    }
    public:    
    bool validSquare(vector<int>& p1, vector<int>& p2, vector<int>& p3, vector<int>& p4) 
    {
        return f(p1,p2,p3) and f(p2,p3,p4) and f(p3,p4,p1);   
    }
};
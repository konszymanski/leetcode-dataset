# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
from collections import deque
class Solution:
    def longestZigZag(self, root: TreeNode) -> int:
        count = 0
        path = deque()
        if(root==None):
            return 0
        maxcount= 1
        if(root.left!=None):
            path.append((root.left,1,0,1))
        if(root.right!=None):
            path.append((root.right,0,1,1))
        if(len(path)==0):
            return 0
        while(path):
			#keep track if current element is left child or right child 
            root,left,right,count = path.popleft()
            # print("root",root.val,left,right,count)
            maxcount= max(count,maxcount)
            if(left==1):
				#if current element is left child  then its right child should increase the zigzag pattern
				#else we should start a new pattern
                if root.right!=None:
                    path.append((root.right,0,1,count+1)) 
                if root.left!=None:
                    path.append((root.left,1,0,1)) 
            else:
				##the same for logic
                if root.right!=None:
                    path.append((root.right,0,1,1)) 
                if root.left!=None:
                    path.append((root.left,1,0,count+1))

                 
        return maxcount
class Solution:
    def distinctSubseqII(self, s: str) -> int:
        modulo  = 10**9+7
        dp = [0]*(len(s)+1)
        dp[0] = 1
        mapped = {}
        # empty string always 1 subsequence 
        for i in range(len(s)):
            dp[i+1] = dp[i]*2
            if s[i] in mapped:
                dp[i+1] = dp[i+1] - dp[mapped[s[i]]-1]
            mapped[s[i]] = i+1
        return (dp[-1]-1)%modulo
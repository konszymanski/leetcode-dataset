class Solution:
    def numPairsDivisibleBy60(self, time: List[int]) -> int:
        
        # key: remainder of mod 60
        # value: occurrence of remainder
        congruence_record = defaultdict(int)
        
        mod_60 = lambda x: x % 60
        
        pair_count = 0
        

        for song_duration in map(mod_60, time):    
            
            complement = mod_60( 60 - song_duration )
            
            # update pair count
            pair_count += congruence_record.get(complement, 0)
            
            # update occurrence of remainder
            congruence_record[ song_duration ] += 1
            
            
        return pair_count
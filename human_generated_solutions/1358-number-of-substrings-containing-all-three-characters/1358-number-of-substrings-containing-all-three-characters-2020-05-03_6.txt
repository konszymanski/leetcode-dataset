class Solution:
    def numberOfSubstrings(self, s: str) -> int:
        total = 0
        counts = [0] * 3

        i, j = 0, 0
        while j != len(s) and i != len(s)-2:
            counts[ord(s[j])-97] += 1
            while all(counts):
                total += len(s) - j
                counts[ord(s[i])-97] -= 1
                i += 1
            j += 1
        return total
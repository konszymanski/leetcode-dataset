class Solution:
    def minimumTeachings(self, n: int, languages: List[List[int]], friendships: List[List[int]]) -> int:
        
        languages = [None] + list(map(set, languages))
        friendships = [[u, v] for u, v in friendships if not languages[u] & languages[v]]
        
        # teach whoever needs it
        return min([len({u
                        for pair in friendships
                        for u in pair
                        if lan not in languages[u]})
                   for lan in range(1, n+1)])
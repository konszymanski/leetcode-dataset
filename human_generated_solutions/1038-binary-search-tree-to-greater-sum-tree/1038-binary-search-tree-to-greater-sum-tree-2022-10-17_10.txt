if (root == None): return root;
        queue = [root]; refqueue = []; d = mp(int); vector = []
        n = len(queue);
        while(n > 0):
            temp = None;
            for i in range(n):
                temp = queue.pop(0); refqueue.append(temp);
                vector.append(temp.val);
                if (temp.left):
                    queue.append(temp.left);
                if (temp.right):
                    queue.append(temp.right);
            n = len(queue);
        for i in refqueue:
            d[i.val] = i
        vector.sort(reverse = True);
        temp = 0;
        for i in vector:
            temp += i;
            d[i].val = temp;
        return root
from sortedcontainers import SortedList
class Solution:
    def minimumDeviation(self, nums: List[int]) -> int:
        S, ans = SortedList(i*2 if i & 1 else i for i in nums), 10**9
        while not S[-1] & 1:
            ans = min(ans, S[-1] - S[0])
            S.add(S.pop() // 2)
        return min(ans, S[-1] - S[0])
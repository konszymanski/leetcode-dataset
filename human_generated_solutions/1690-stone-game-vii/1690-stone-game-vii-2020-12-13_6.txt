def stoneGameVII(self, A: List[int]) -> int:
    n = len(A)
    pref_s = A.copy()  # prefix sum
    for i in range(1, n):
        pref_s[i] += pref_s[i-1]
    pref_s.append(0)
    dp = [0] * n
    for step in range(2, n+1):
        for i in range(n-1, step-2, -1):
            dp[i] = max(pref_s[i-1] - pref_s[i-step] - dp[i-1],
                            pref_s[i] - pref_s[i-step+1] - dp[i])
    return dp[-1]
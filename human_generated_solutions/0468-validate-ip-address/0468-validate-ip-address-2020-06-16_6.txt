import re
class Solution:
    def validIPAddress(self, IP: str) -> str:
        ## RC ##
        ## APPROACH : REGEX ##
        		
		## TIME COMPLEXICITY : O(1) ##  (because the patterns to match have constant length.)
		## SPACE COMPLEXICITY : O(1) ##
        
        # validating single IPv4 chunk using Regular Expression
        def validate_IPv4_regex(chunks):
            return re.match(r\'(\' + IPv4_chunk_pattern + \')\', chunk)
    
        # validating single IPv6 chunk using Regular Expression
        def validate_IPv6_regex(chunk):
            return re.match(r\'(\' + IPv6_chunk_pattern + \')\', chunk)
        
        # ^ -> start, $ -> end. They are necessary else if any substring matched also it returns true
        IPv4_chunk_pattern = "^([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$"  # indicates 0-9 or 10-99 or 100-199 or 200-49 or 250-255.
        IPv6_chunk_pattern = "^([0-9a-fA-F]{1,4})$"                                  # 0-9|a-f|A-F of length 1 to 4.
        
        if IP.count(\'.\') == 3:
            for chunk in IP.split("."):
                if not validate_IPv4_regex(chunk):
                    return "Neither"
            return "IPv4"
        elif IP.count(\':\') == 7:
            for chunk in IP.split(":"):
                if not validate_IPv6_regex(chunk):
                    return "Neither"
            return "IPv6"
        return "Neither"
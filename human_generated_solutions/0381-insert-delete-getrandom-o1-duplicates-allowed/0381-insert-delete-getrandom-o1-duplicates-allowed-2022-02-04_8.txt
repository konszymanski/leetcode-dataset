def __init__(self):

    self.lst = []
    self.idx = defaultdict(set)


def insert(self, val: int) -> bool:

    # Stores the indexes of the "val" inserted in the dictionary and also append this val randomly to the lst 
    self.idx[val].add(len(self.lst))
    self.lst.append(val)
    return len(self.idx[val]) == 1


def remove(self, val: int) -> bool:

    # remove "val" from the postions or indexes by virtual swapping i.e. the index to be removed is placed with the "last " element  value and the popped index is then use to add to
    # "last" elemnt in dict to occupy the postition of "deleted \'val\'" and and "last" element postion in self.lst is removed from dict and lst subsequntly
    if not self.idx[val]: return False
    remove, last = self.idx[val].pop(), self.lst[-1]
    self.lst[remove] = last
    self.idx[last].add(remove)
    self.idx[last].discard(len(self.lst) - 1)

    self.lst.pop()
    return True


def getRandom(self) -> int:

	return choice(self.lst)
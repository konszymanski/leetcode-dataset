class Solution:
    def countDigitOne(self, n: int) -> int:
        t1 = [1,20,300,4000,50000,600000,7_000_000,80_000_000,900_000_000]
        tn = [int(i) for i in str(n)][::-1]
        res=0
        if n==0:return 0
        if n<10:return 1
        if n%10>0: res=1
        for i,digit in enumerate(tn[1:]):
            if digit>1: res+=10**(i+1)
            if digit==1: res+= 1+n%(10**(i+1))
            res+=digit*t1[i]
        return res
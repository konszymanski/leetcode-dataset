class Solution:
    def findAllPeople(self, n: int, meetings: List[List[int]], firstPerson: int) -> List[int]:
        meetAtTime = collections.defaultdict(list)
        for p1, p2, t in meetings:
            meetAtTime[t].append((p1, p2))
        
        hasSecret = set([0, firstPerson])
        
        for t in sorted(meetAtTime.keys()):
            meets = meetAtTime[t]
            
            graph = collections.defaultdict(list)
            
            secretSource = set()
            
            for p1, p2 in meets:
                
                graph[p1].append(p2)
                graph[p2].append(p1)
                
                if p1 in hasSecret:
                    secretSource.add(p1)
                if p2 in hasSecret:
                    secretSource.add(p2)
            
            q = collections.deque(secretSource)
                
            while q:
                person = q.popleft()
                
                for partner in graph[person]:
                    if partner not in hasSecret:
                        hasSecret.add(partner)
                        q.append(partner)
        
        return hasSecret
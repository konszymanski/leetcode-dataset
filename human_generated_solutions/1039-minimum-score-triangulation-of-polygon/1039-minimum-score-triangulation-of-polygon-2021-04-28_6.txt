class Solution:
    def minScoreTriangulation(self, values: List[int]) -> int:
        
        @cache
        def fn(lo, hi): 
            """Return minimum score triangulation of values[lo:hi]."""
            if lo+3 > hi: return 0 
            ans = inf
            for mid in range(lo+1, hi-1): 
                ans = min(ans, values[lo]*values[mid]*values[hi-1] + fn(lo, mid+1) + fn(mid, hi))
            return ans 
        
        return fn(0, len(values))
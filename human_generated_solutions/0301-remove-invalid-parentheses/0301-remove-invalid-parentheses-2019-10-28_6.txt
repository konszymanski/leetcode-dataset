def removeInvalidParentheses(s):
	def dfs(s, l, r, p, sols):
		bal = 0
		for j in range(r, len(s)):
			bal += p.get(s[j], 0)
			if bal < 0:
				for i in range(l, j+1):
					if p.get(s[i], 0) == -1 and (i == l or p.get(s[i-1], 0) != -1):
						dfs(s[:i]+s[i+1:], i, j, p, sols)
				return
		sols.append(s[::-1])

	cands, sols = [], []
	dfs(s, 0, 0, {"(":1, ")":-1}, cands)
	for cand in cands:
		dfs(cand, 0, 0, {")":1, "(":-1}, sols)
	return sols
class Solution {
    int nearest_pow(int x){
        long long p = 1, c=0;
        while(3*p <= x){
            p *= 3;
            ++c;
        }
        return c;
    }
public:
    bool checkPowersOfThree(int n) {
        unordered_set<int> s;
        int t;
        while(n>0){
            t = nearest_pow(n);
            if(s.find(t) != s.end()) return 0;
            else s.insert(t);
            n -= pow(3,t);
        }
        return 1;
    }
};
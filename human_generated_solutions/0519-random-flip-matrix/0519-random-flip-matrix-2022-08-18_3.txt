class Solution:

    def __init__(self, m: int, n: int):
        self.chosenIdx = set()
        self.m = m
        self.n = n

    def flip(self) -> List[int]:
        while True:
            rscope = 1
            chosen_row = 0
            for row in range(self.m):
                if random.random() < 1 / rscope:
                    chosen_row = row
                rscope += 1

            cscope = 1
            chosen_col = 0
            for col in range(self.n):
                if random.random() < 1 / cscope:
                    chosen_col = col
                cscope += 1
            
            if (chosen_row, chosen_col) not in self.chosenIdx:
                self.chosenIdx.add((chosen_row, chosen_col))
                return [chosen_row, chosen_col]
        

    def reset(self) -> None:
        self.chosenIdx = set()
class CBTInserter:

    def __init__(self, root: TreeNode):
        self.root = root
        self.nodes = deque([]) # nodes with None child
        queue = deque([root])
        while queue: # bfs 
            node = queue.popleft()
            if node.left: queue.append(node.left)
            if node.right: queue.append(node.right)
            else: self.nodes.append(node)

    def insert(self, v: int) -> int:
        node = self.nodes[0]
        ans = node.val
        if not node.left: node.left = node = TreeNode(v)
        else: 
            node.right = node = TreeNode(v)
            self.nodes.popleft()
        self.nodes.append(node)
        return ans 

    def get_root(self) -> TreeNode:
        return self.root
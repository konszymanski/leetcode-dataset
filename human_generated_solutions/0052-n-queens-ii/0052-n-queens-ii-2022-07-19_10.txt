class Solution:
    def totalNQueens(self, n: int) -> int:
        def isAttackable(row,col,queens):
            for queen in queens:
                r,c = queen
                if r == row or c == col or row-col == r-c or row+col == r+c:
                    return True
            return False
        
        def dfs(row,queens, countSolution):
            if row == n:
                countSolution += 1
                return countSolution
            for col in range(n):
                if not isAttackable(row,col,queens):
                    countSolution = dfs(row+1,queens+[[row,col]],countSolution)
            return countSolution
        
        board = [[0 for _ in range(n)] for _ in range(n)]
        countSolution = dfs(0,[],0)
        return countSolution
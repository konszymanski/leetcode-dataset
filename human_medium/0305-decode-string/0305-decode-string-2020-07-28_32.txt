class Solution:
    def decodeString(self, s: str) -> str:
        res, stack = "", []
        for char in s:
            if char != \']\':
                stack.append(char)                 #append any char other than closing bracket to the stack
            else:
                currStr, multiplier = \'\', \'\'
                while stack[-1] != \'[\':                      # this gives the current string till the last opening bracket
                    currStr = stack.pop() + currStr
                stack.pop()                                       # throw away the opening bracket, not needed
                while len(stack) and stack[-1].isdigit():          # this gives the multiplier of the currentString
                    multiplier = stack.pop() + multiplier
                curr = int(multiplier) * currStr                # this generates the whole string
                for c in curr:
                    stack.append(c)                   # append the string back to the stack
        return res + "".join(stack)
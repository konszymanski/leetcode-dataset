class Solution(object):
    def decodeString(self, s):
        stack = []
        result = ""
        i, n = 0, len(s)
        
        while i < n:
            if s[i].isdigit():
                num = ""
				#Extract the number
                while i < n and s[i].isdigit():
                    num += s[i]
                    i += 1
				#Skip \'[\'
                i += 1
                string = ""
				#Extract the string after the number 
                while i < n and s[i].isalpha():
                    string += s[i]
                    i += 1
                stack.append([int(num), string])
                continue
            if s[i] == \']\':
				#If you see a closing bracket, pop the stack pop and multiply it num times.
                num, string = stack.pop()
                string = string * num
                i += 1
            else:
				#This is the case when some part of the string are not enclosed within the []
                string = ""
                while i < n and s[i].isalpha():
                    string += s[i]
                    i += 1
            if stack:
				#If the stack is not empty, the popped & multiplied string might have to be multiplied again.
                stack[-1][1] += string
            else:
				#If the stack is empty, no parent, just add it to the result.
                result += string
        
        return result
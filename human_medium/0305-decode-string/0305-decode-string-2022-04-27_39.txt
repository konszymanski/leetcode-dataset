def decodeString(self, s: str) -> str:
        """
        ==> don\'t have to keep state since input is guaranteed to be valid
        [ -> push (running_str, running_int), reset running vars
        ] -> pop, multiply running_str, new running_str = concat with popped str
        """
        stack = []
        running_str = []  # keep a list of chars instead of string for efficiency
        running_int = 0

        for c in s:
            if c == "[":
                stack.append((running_str, running_int))
                running_str = []
                running_int = 0
            elif c == "]":
                prepend_str, nrepeat = stack.pop()
                running_str = prepend_str + nrepeat * running_str
            elif c in "0123456789":  # I prefer this over str.isdigit() since isdigit recognizes a large pool of characters
                running_int = running_int * 10 + int(c)
            else:
                running_str.append(c)
        return "".join(running_str)
from typing import List


class Solution:
    def reconstructQueue(self, people: List[List[int]]) -> List[List[int]]:
        # Approach:
        # - Process people from tallest to shortest, and for people with the same height start with
        #   the ones with smaller `k`
        # - Then, rebuilding the queue from scratch, and adding one person at a time in the order above,
        #   the person\'s insertion position in the queue so far is at index `k`
        # Complexity:
        # - Time: O(N*log(N)+SK)
        #   where N is the number of people, and SK is the sum of all the `k`\'s (i.e. worst case O(N^2))
        # - Space: O(N)

        # Sort the people by descending height and ascending `k`
        # Complexity:
        # - Time: O(N*log(N))
        # - Space: O(N)
        sortedPeople = sorted(people, key=(lambda person: (-person[0], person[1])))

        # Process the sorted people in order, and insert them in the result list at position `k`
        # Complexity:
        # - Time: O(N+SK)
        # - Space: O(1)
        result = []
        for person in sortedPeople:
            result.insert(person[1], person)

        return result
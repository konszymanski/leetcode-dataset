class Solution:
    def reconstructQueue(self, people: List[List[int]]) -> List[List[int]]:
        n = len(people)
        visited = set()
        tmp = people.copy() #so that we can reduce k[i] without affecting original array
        
        #nodes with zero k[i] value
        pq = []
        for i in range(n):
            if people[i][1]==0:
                pq.append((people[i][0],i)) #<height[i],i>
                visited.add(i)
        heapify(pq) #min heap
        
        #result ordering
        res = [None for _ in range(n)]
        i = 0
        
        while pq:
            #insert to result list in asc order
            ht,indx = heappop(pq)
            res[i] = people[indx]
            i+=1
            
            #all elements with lesser height && not in visited should have their k[i] reduced
            for j in range(n):
                if j not in visited:
                    currHt,currK = tmp[j]
					
					#reduce indegree
                    if currHt<=ht:
                        currK-=1
                        if currK==0:
                            visited.add(j)
                            heappush(pq,(currHt,j))
                        else:
							#wait for next round
                            tmp[j] = (currHt,currK)
                             
        return res
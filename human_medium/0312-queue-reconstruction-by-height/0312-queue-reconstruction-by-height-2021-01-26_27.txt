class Solution:
    def reconstructQueue(self, people: List[List[int]]) -> List[List[int]]:
        P = [(x[1],x[0],i) for i,x in enumerate(people)]
        heapify(P)
        out = []
        while P:
            _, h, i = heappop(P)
            out.append(i)
            for j in range(len(P)):
                if P[j][1]<=h: P[j] = (P[j][0]-1, P[j][1], P[j][2])
            heapify(P)
        return [people[i] for i in out]
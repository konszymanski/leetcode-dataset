class Solution:
    def removeDuplicateLetters(self, s: str) -> str:
        n=len(s)
		#last ocuurence index map
        mp1={s[i]:i for i in range(n)}
        #set to mark visited character
        visited=set()
        #to maintain lexiographical order
        stack=[]
        for i in range(n):
            # if char is nor in set
            if s[i] not in visited:
                
                #Maintain a Increasing stack 
                #1.if (the stack is not empty) and (top element is lexiographicall greater) and 
				#(index of last_occurence is greater than current index->this also depicts duplicates are not added rather than set )
                #2.pop the element from the stack and remove it from the set
                #3.else add the element in the stack and set
                while (stack and s[stack[-1]]>s[i] and mp1[s[stack[-1]]]>i):
                    idx=stack.pop()
                    visited.remove(s[idx])
                stack.append(i)
                visited.add(s[i])
                
        return "".join([s[i] for i in stack])
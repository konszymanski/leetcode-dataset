class Solution:
    def removeDuplicateLetters(self, s: str) -> str:
        # initialise a stack as a list
        stack = []
        
        # maintain a dict where you store the last occurence of each character in string
        last_occurence = {c:i for i,c in enumerate(s)}
        
        for i, c in enumerate(s):
            # check if c not aleady in solution
            if c not in stack:
                # keep removing the topmost letter from stack if:
                # 1. stack exists
                # 2. topmost element is greater than current
                # 3. the topmost letter exists later in the string
                while stack and c<stack[-1] and i < last_occurence[stack[-1]]:
                    stack.pop()
                stack.append(c)
        
        # make the string from the list
        return \'\'.join(stack)
from bisect import bisect_left
class RotatedArray:
    def __init__(self, nums):
        self.nums = nums
        # Find the point where the rotation being
        i = 0
        while i < len(nums)-1 and nums[i] <= nums[i+1]:
            i += 1
        # True zero is the index with the smallest element
        self.true_zero = i+1 if i+1 < len(nums) else 0
        self.len = len(nums)

    def __getitem__(self, idx):
        # Pretend that list is sorted by accessing the items in sorted order
        # This allows us to use the bisect library
        rotated_idx = (idx + self.true_zero) % len(self.nums)
        return self.nums[rotated_idx]

    def __len__(self):
        return self.len

class Solution:
    def search(self, nums: List[int], target: int) -> bool:
        arr = RotatedArray(nums)
        idx = bisect_left(arr, target)
        return arr[idx] == target
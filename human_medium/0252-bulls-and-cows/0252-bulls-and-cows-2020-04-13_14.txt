class Solution:
    def mapping(self, string):
	    # Function to create hashmap for \'guess\' and \'secret\'. 
		#  keys are characters in string - values are indices
        hh= {}
        for i in range(len(string)):
            if string[i] not in hh:
                hh[string[i]] = [i]
            else:
                hh[string[i]].append(i)        
        return hh
        
    
    def getHint(self, secret: str, guess: str) -> str:
        # Initial Sanity Check - if both are equal
        if secret == guess:
            return str(len(secret)) + "A" + str(0) + "B"
        
        bulls, cows = 0, 0        
        smap = self.mapping(secret)   
        gmap = self.mapping(guess)
        gmap = {k:v for k, v in gmap.items() if k in list(smap.keys())}       

        # Calculate bulls count:-     
        # how many digits in \'guess\' match your secret number & exactly in both digit and position (called "bulls") 
        for k, v in gmap.items():
            sv = smap[k]
            gv = gmap[k]
            wc1 = [c for c in gv if c in sv ] # filter the list for correct index guesses
            bulls += len(wc1)  # number of correct guesses of position & digit
        
        # Now to calculate cows: 
        # how many digits match the secret number but locate in the wrong position (called "cows")
        for k, v in gmap.items():
            sv = smap[k]
            gv = gmap[k]
            # digits match but wrong position
            wc1 = [c for c in sv if c not in gv]  # indexes that are in secret but not in guess
            wc2 = [c for c in gv if c not in sv]  # index that are in guess but not in secret
            # Here we take the min() - as to know how many wrong? (It\'s a 1-1 mapping)
			cows += min(len(wc1), len(wc2))

        return str(bulls) + "A" + str(cows) + "B"
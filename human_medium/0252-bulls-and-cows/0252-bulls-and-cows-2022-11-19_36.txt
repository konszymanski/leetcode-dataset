from collections import defaultdict
class Solution:
    def getHint(self, secret: str, guess: str) -> str:
        # Get the postions for each input - string and guess
        s, g = defaultdict(set), defaultdict(set)
        for i, ch in enumerate(secret):
            s[ch].add(i)
        for i, ch in enumerate(guess):
            g[ch].add(i)

        # Start the counts
        matching, almost = 0, 0
        
        # Iterate guess, and compare against secret
        for char, positions in g.items():
            # Only if guess char in secret to begin with
            if char in s:
                # Get the total relevant, which is at most the count of char in secret
                total_relevant = min(len(s[char]), len(positions))
                # Complete match is where the indices also match
                complete_match = len(s[char].intersection(positions))
                # Almost would then be the relevant matching count minus the exact matching count
                almost_match = total_relevant - complete_match
                
                # Add these to the running trackers
                matching += complete_match
                almost += almost_match

        # Return counts in the format as per requirements
        return f\'{matching}A{almost}B\'
from collections import defaultdict


class Solution:
    def getHint(self, secret: str, guess: str) -> str:
        """
        Given a secret number (secret) and a guess (guess), this
        program returns a hint indicating the number of digits
        that were guessed correctly and in the correct location
        (bulls) and the number of digits in guess that are in
        secret, but not in the correct location (cows)

        :param secret: secret number containing all digits
        :type secret: str
        :param guess: guess containing all digits and same length
                      as secret
        :type guess: str
        :return: string in following format:
                    "#bullsA#cowsB"
                 where #bulls and #cows are integers
        :rtype: str
        """
        
        """
        Initialize:
        - secret_hash maps a digit in secret to its frequency
        - number of bulls (bulls)
        - number of cows (cows)
        - non_bull_guesses is a list of indexes of digits in
          guess that do not match the digit of the same index
          in secret
        """
        secret_hash = defaultdict(int)
        bulls = 0
        cows = 0
        non_bull_guesses = []
        
        """
        Create secret_hash, non_bull_guesses, and the count bulls.
        - If a guessed digit is correct at the same location in
          secret, increment bulls.
        - If a guessed digit is in secret, but not at the same
          location as secret, increment the secret_hash entry
          for the digit in secret that was guessed incorrectly
          location-wise. Append the index of the guessed digit
          from guess to non-bull guesses.
        """
        for k, s in enumerate( secret ):
            if guess[k] == s:
                bulls += 1
            else:
                secret_hash[s] += 1
                non_bull_guesses.append(k)
        
        """
        Loop through non_bull_guesses to find the cows. For
        each non-bull guessed digit:
        - If the non-bull guessed digit is in secret, increment
          cows and decrement the entry for the guess in secret_hash.
        - Construct output string (answer) and return.
        """
        for k in non_bull_guesses:
            if guess[k] in secret_hash:
                if secret_hash[guess[k]]:
                    cows += 1
                    secret_hash[guess[k]] -= 1
        answer = \'\'.join([str(bulls), \'A\', str(cows), \'B\'])
        return answer
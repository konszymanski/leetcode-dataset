from bisect import bisect_right, bisect_left
class Solution:
    def increasingTriplet(self, nums: List[int]) -> bool:
        n = len(nums)
        # max_heap = []
        stack = []
        for i in range(n):
            """ IDEA: 
            if not stack:
                stack.append(nums[i])
            else:
                idx = bisect_right(stack, nums[i])
                if idx < len(stack):
                    stack[idx] = nums[i]
                else:
                    stack.append(nums[i])
            """
            
            # ReArrange the IDEA into a neat code
            # idx = bisect_right(stack, nums[i])    # BUGGG! at [1,1,1,1,1,1]
            idx = bisect_left(stack, nums[i])       # FIX!!!
            if idx >= len(stack):       # p.s. bisect_left([], 7) outputs 0
                stack.append(nums[i])
            else:
                stack[idx] = nums[i]
        return len(stack) >= 3
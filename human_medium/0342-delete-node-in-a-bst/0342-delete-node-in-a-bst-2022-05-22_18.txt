# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    """
    This is a standard algorightm to delete a node in BST.
    There can be three scenarios:
    when node to be deleted has no childredn, we return None in that case
    when node has only left child, we return the left child
    when node has only right child, we return the right child
    when node has both child, we swap the values of node with it\'s inorder successor and then 
    call the delete method to delete the inorder successor node
    
    the cool thing about this recursion is, we will return trees node at every step to avoid keep track
    of parent node in function call
    """
    def delete_node(self, root, key):
        if root is not None:
            if key > root.val:
                root.right = self.delete_node(root.right, key)
            elif key < root.val:
                root.left = self.delete_node(root.left, key)
            else:
                if not root.left and not root.right:
                    return None
                elif not root.left and root.right:
                    return root.right
                elif root.left and not root.right:
                    return root.left
                else:
                    # get the inorder successor
                    node = root.right
                    while node.left is not None:
                        node = node.left
                    root.val = node.val
                    root.right = self.delete_node(root.right, node.val)
            return root
        
    def deleteNode(self, root: Optional[TreeNode], key: int) -> Optional[TreeNode]:
        return self.delete_node(root, key)
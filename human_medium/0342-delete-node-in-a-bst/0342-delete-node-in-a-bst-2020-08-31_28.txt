class Solution:
    def deleteNode(self, root: TreeNode, key: int) -> TreeNode:
        
        # search for matching node i.e. node to delete
		# track parent and whether node is the left or right of parent
        curr, prev, is_left = root, TreeNode(None, root, None), True
        while curr and key != curr.val:
            prev = curr
            if key < curr.val:
                curr = curr.left
                is_left = True
            else:
                curr = curr.right
                is_left = False
		
		# no matching node
        if curr is None:
            return root
        
        # move node.right of the matching node to the right-most node of node.left
        to_delete = curr
        if curr.left:
            to_keep = curr.right
            curr = curr.left
            while curr.right:
                curr = curr.right
            curr.right = to_keep
        
		# determine which child node of matching node will replace matching node
        valid_node = to_delete.left if to_delete.left else to_delete.right
		
		# delete matching node by changing the parent left/right of the matching node with the replacement node
        if prev.val is None:
			# if root would be deleted, return new root
            return valid_node
        elif is_left:
            prev.left = valid_node
        else:
            prev.right = valid_node
        
        return root
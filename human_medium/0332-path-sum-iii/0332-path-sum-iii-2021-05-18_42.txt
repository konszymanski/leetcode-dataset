class Solution:
    def pathSum(self, root: TreeNode, targetSum: int) -> int:
        count = 0
        if root:
            paths = [[[], root]]
            while paths:
                new_paths = []
                for parents_sums, node in paths:
                    val = node.val
                    parents_sums = [n + val for n in parents_sums]
                    parents_sums.append(val)
                    count += parents_sums.count(targetSum)
                    if node.left:
                        new_paths.append([parents_sums, node.left])
                    if node.right:
                        new_paths.append([parents_sums, node.right])
                paths = new_paths
        return count
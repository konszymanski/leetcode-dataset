def pathSum(self, root: TreeNode, sum: int) -> int:
        if not root:
            return 0
    
        stack = [root] if root else None
        sum_stack = []
        ways = 0
        
        while stack:
            curr_node = stack.pop()
            sum_stack.append((curr_node, sum - curr_node.val))
            
            if curr_node.left:
                stack.append(curr_node.left)
                
            if curr_node.right:
                stack.append(curr_node.right)
                
        while sum_stack:
            curr_node, curr_sum = sum_stack.pop()
            
            if curr_sum == 0:
                ways += 1
                    
            if curr_node.left:
                sum_stack.append((curr_node.left, curr_sum - curr_node.left.val))
            
            if curr_node.right:
                sum_stack.append((curr_node.right, curr_sum - curr_node.right.val))
            
        return ways
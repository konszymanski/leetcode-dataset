class Solution:
    
    def make_graph(self, n: int, edges: List[List[int]]) -> Dict:
        graph = {k: set() for k in range(n)}
        for edge in edges:
            graph[edge[0]].add(edge[1])
            graph[edge[1]].add(edge[0])
        return graph
    
    def make_leaves(self, graph: Dict) -> Set:
        leaves = set()
        for key, val in graph.items():
            if len(val) == 1:
                leaves.add(key)
        return leaves
    
    def trim_nodes(self, graph: Dict, nodes: Set) -> None:
        
        # Remove nodes from graph
        for node in nodes:
            node = graph.pop(node, None)
        
        # Remove nodes connection in graph
        for key, val in graph.items():
            graph[key] = val - nodes
            
        return
    
    def findMinHeightTrees(self, n: int, edges: List[List[int]]) -> List[int]:
        
        ret = [0] # default return value
        
        if len(edges):
            
            # make graph
            graph = self.make_graph(n, edges)
            
            # Loop till no more than 2 nodes are left
            while len(graph) > 2:
                
                # Make leaves
                leaves = self.make_leaves(graph)
                
                # Trim leaves
                self.trim_nodes(graph, leaves)
             
            # Return remaining nodes
            ret = [k for k in graph.keys()]
            
        return ret
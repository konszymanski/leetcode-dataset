class Solution:
    def findMinHeightTrees(self, n: int, edges: List[List[int]]) -> List[int]:
        connections = defaultdict(set)
        for x,y in edges:
            connections[x].add(y)
            connections[y].add(x)
        #
        leaves = [ x for x in range(n) if len(connections[x])==1 ]
        while leaves and len(leaves)<len(connections):
            new = []
            for x in leaves:
                for y in connections[x]:
                    connections[y].remove(x)
                    if len(connections[y])==1:
                        new.append(y)
                connections.pop(x)
            leaves = new
        return list(connections)
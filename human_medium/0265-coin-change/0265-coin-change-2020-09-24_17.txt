class Solution:
    def coinChange(self, coins: List[int], amount: int) -> int:
        
        @cache
        def fn(x):
            """Return fewest number of coins to make up to x."""
            if x == 0: return 0
            if x < 0: return inf
            return min(1 + fn(x - coin) for coin in coins)
        
        return fn(amount) if fn(amount) < inf else -1
from collections import defaultdict
class Solution:
    @staticmethod
    def missingkey():
        return -1
    
    def coinChange(self, coins: List[int], amount: int) -> int:
        """
        DP list, bottom up approach
        """
        # Edge case
        if amount == 0:
            return 0
        # Initialize the dp table in the form of amount : min coins.
        # If the amount is not valid, then returns -1
        dp = defaultdict(self.missingkey)
        dp[0] = 0
        for coin in coins:
            dp[coin] = 1
        
        # Table recursion: bottom up
        for i in range(amount + 1):  # including amount
            # Goal: build dp[i]
            # find the min for each coin
            possible_counts = []
            for coin in coins:
                if i - coin in dp:
                    possible_counts.append(dp[i-coin] + 1)
            if possible_counts:
                dp[i] = min(possible_counts)

        return dp[amount]
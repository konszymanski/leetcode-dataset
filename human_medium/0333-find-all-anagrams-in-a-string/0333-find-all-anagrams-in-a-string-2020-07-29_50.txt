class Solution:
    def findAnagrams(self, s: str, p: str) -> List[int]:
        if not p or len(p) > len(s):
            return []
        anagrams = []
        len_s, len_p = len(s), len(p)
        
		# distance to zeroize for each char in order to be the same as the pattern
        counter = Counter(p)
		# total number of the chars that not matched
        diff = len(counter.keys())
        l, r = 0, 0
		
		# outer while loop is to increment r, to substract the distance for each char
        while r < len_s:
            counter[s[r]] -= 1
            if counter[s[r]] == 0:
                diff -= 1
			
			# an anagram is found in s[l:r+1] whenever diff == 0
            if diff == 0:
			    # the inner while loop if to increment l, pop the chars from the substring s[l:r+1]
				# to add up the distance between the substring s[l:r+1] and teh pattern
                while diff == 0 and l <= r:
                    counter[s[l]] += 1
                    if counter[s[l]] == 1:
                        diff += 1
                    l += 1
					
				# we can only ensure an anagram is found only when the last popped char 
				# distructs the anagram with the pattern with the same exact length
                if r - l == len_p - 2:
                    anagrams.append(l - 1)
            r += 1
        return anagrams
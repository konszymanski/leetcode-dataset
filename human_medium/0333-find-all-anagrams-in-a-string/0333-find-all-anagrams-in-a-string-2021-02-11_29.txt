def findAnagrams(s, p):
    res = []
    p_d = Counter(p)
    s_d = Counter(s[0: len(p)])
    l = 0
    r = l + len(p) - 1
    while r < len(s):
        if p_d == s_d:
            res.append(l)
        s_d[s[l]] -= 1
        if s_d[s[l]] == 0:
            del s_d[s[l]]
        l += 1
        if r + 1 < len(s):
            if s[r + 1] not in s_d:
                s_d[s[r + 1]] = 1
            else:
                s_d[s[r + 1]] += 1
        r += 1
    return res
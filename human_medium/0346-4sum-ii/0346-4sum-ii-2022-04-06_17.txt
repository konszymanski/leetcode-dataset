from collections import defaultdict
from itertools import product

def fourSumCount(self, nums1: List[int], nums2: List[int], nums3: List[int], nums4: List[int]) -> int:
	n = len(nums1)
	ans = 0

	# first half
	dic = defaultdict(int)
	for num1,num2 in product(nums1, nums2):
		dic[num1 + num2] += 1

	# second half
	for num3,num4 in product(nums3, nums4):
		ans += dic[-(num3 + num4)]

	return ans
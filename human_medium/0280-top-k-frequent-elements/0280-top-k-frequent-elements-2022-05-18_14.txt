class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        counter = {}
        max_freq = float(\'-inf\')
        for num in nums:
            if num in counter:
                counter[num] += 1
            else:
                counter[num] = 1
            max_freq = max(max_freq, counter[num])
                
        freq_buckets = [[] for i in range(max_freq)]
        
        for num, freq in counter.items():
            freq_buckets[freq-1].append(num)
            
        ans = []
        i = len(freq_buckets) - 1
        while k > 0 and i >= 0:
            for num in freq_buckets[i]:
                if k <= 0:
                    break
                ans.append(num)
                k -= 1
            i -= 1
            
        return ans
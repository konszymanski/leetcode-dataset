@lru_cache(None)
def cal(node):
# check if the node is NULL
	if not node:
		return 0

# Case 1: Let us take the current node in calculation
# initialize with current node val for left and right
	l1,r1=node.val,node.val
	if node.left:
		l1 += cal(node.left.left) + cal(node.left.right)
	if node.right:
		r1 += cal(node.right.left) + cal(node.right.right)
	m1 = l1+r1-node.val

# Case 2: Not taking the current node val and including  values we get from children
	m2 = cal(node.left) + cal(node.right)

# Take maximum of case 1 and case 2
	return max(m1,m2)
return cal(root)
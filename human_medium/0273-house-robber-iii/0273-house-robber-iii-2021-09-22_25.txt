class Pair:
    def __init__(self,a,b):
        self.withRobbery = a
        self.withoutRobbery = b
class Solution:
    def rob(self, root: Optional[TreeNode]) -> int:
        ans = self.helper(root)
        return max(ans.withRobbery,ans.withoutRobbery)
        
        
    def helper(self,root):
        if root is None:
            return Pair(0,0)
        leftResult = self.helper(root.left)
        rightResult = self.helper(root.right)
        moneyWithoutRobbery = max(leftResult.withRobbery,leftResult.withoutRobbery) + max(rightResult.withRobbery,rightResult.withoutRobbery)
        moneyWithRobbery = leftResult.withoutRobbery + root.val + rightResult.withoutRobbery
        return Pair(moneyWithRobbery,moneyWithoutRobbery)
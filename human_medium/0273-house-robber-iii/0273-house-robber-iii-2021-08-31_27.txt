class Solution:
    def rob(self, root: TreeNode) -> int:
        def DFS(root:TreeNode):
            res = [0, root.val]
            if root.left:
                temp = DFS(root.left)
                res[0] += max(temp)
                res[1] += temp[0]
            if root.right:
                temp = DFS(root.right)
                res[0] += max(temp)
                res[1] += temp[0]
            return res
        res = DFS(root)
        return max(res)
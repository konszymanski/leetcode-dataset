class Solution:
    def __init__(self):
        self.node_values = []
        self.k = 0

    def dfs(self, root):
        # inorder traversal
        if root:
            self.dfs(root.left)
            # if length of node_values becomes k, we found our element
            if len(self.node_values) == self.k:
                return
            self.node_values.append(root.val)
            self.dfs(root.right)

    def kthSmallest(self, root: TreeNode, k: int) -> int:
        self.k = k
        self.dfs(root)

        return self.node_values[-1]
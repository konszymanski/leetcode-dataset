class Solution:
    def maximalSquare(self, matrix: List[List[str]]) -> int:
        \'\'\'
        we pad the matrix so that we will always have an empty
        monotonic stack.
        \'\'\'
        for rw in range(len(matrix)):
            matrix[rw].append("0")

        height = [0] * len(matrix[0])
        max_area = 0

        for rw, row in enumerate(matrix):
            stack = [-1]
            for col, val in enumerate(row):
                height[col] = 0 if not int(val) else height[col] + 1

                while stack and height[stack[-1]] > height[col]:
                    prev_col = stack.pop()
                    
                    right= col - prev_col
                    left = prev_col - stack[-1] - 1
                    width = right + left

                    area = min(width,height[prev_col]) ** 2
                    max_area = max(area, max_area)

                stack.append(col)

        return max_area
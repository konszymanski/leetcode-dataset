import collections
class Solution:
    def longestSubstring(self, s: str, k: int) -> int:
        left=0
        right=len(s)-1
        return self.dfs(left,right,s,k)
    def dfs(self,left,right,s,k):
        if right-left+1<k: #if interval<k , return 0
            return 0
        hmap=collections.Counter(s[left:right+1])
        for i in range(left,right+1):
            if hmap[s[i]]<k:
                j=i+1
                while j<=right and s[j]==s[j-1]: #running loop to eliminate duplicate characters.
                    j+=1
                ans=max(self.dfs(left,i-1,s,k),self.dfs(j,right,s,k))
                return ans
        return right-left+1 #if there is no character having frequency<k , return the whole interval.
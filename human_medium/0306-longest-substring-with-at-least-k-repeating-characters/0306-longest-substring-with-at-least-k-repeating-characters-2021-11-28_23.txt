from collections import Counter

class Solution:
    def longestSubstring(self, s: str, k: int) -> int:
        
        # Check if k is less than or equal to the length
		# of the string else k is invalid and return 0
        if k <= len(s):
            
            # For each unique characters and their occurrence
            for char, freq in Counter(s).items():
                
                # If occurrence of that character is less than k, then
                # no substring containing that character is valid,
                # so split the string into substring which doesn\'t
                # contain that character and then return the maximum
                # of the longest substring from those substrings
                if freq < k:
                    return max(self.longestSubstring(substr, k) for substr in s.split(char))
                
            else:
                
                # If there is no character whose occurrence is not less than k
                # in that case the largest substring is the entire string
                return len(s)
            
        return 0
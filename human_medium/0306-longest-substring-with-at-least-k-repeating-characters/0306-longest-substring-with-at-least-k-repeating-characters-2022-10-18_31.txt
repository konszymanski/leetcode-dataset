class Solution:
    def longestSubstring(self, s: str, k: int) -> int:
        i = 0
        j = len(s)-1
        ans = 0
        def solve(s):
            count = 0
            nonlocal ans
            if len(s)<k or len(s) == 0:
                return 0
            counter = Counter(s)
            broken = False
            for idx in range(len(s)):
                if counter[s[idx]] < k:
                    ans = max(ans, solve(s[0:idx]))
                    ans = max(ans, solve(s[idx+1:]))
                    broken = True
                    break
            if not broken:
                count = len(s)
                ans = max(ans,count)
            return ans
        return solve(s)
import operator
from itertools import accumulate

class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        result = list(accumulate(nums, operator.mul))
        
        curr_suffix = 1
        for i in reversed(range(len(nums))):
            curr_prefix = 1 if i == 0 else result[i-1]
            result[i] = curr_prefix * curr_suffix
            curr_suffix *= nums[i]
            
        return result
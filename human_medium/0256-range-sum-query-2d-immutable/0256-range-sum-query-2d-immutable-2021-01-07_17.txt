class NumMatrix:

    def __init__(self, matrix: List[List[int]]):
        self.cumsum = list(zip(*map(accumulate, zip(*map(accumulate, matrix)))))
    
    def get(self, row: int, col: int):
        return 0 if row < 0 or col < 0 else self.cumsum[row][col]

    def sumRegion(self, row1: int, col1: int, row2: int, col2: int) -> int:
        return self.get(row2, col2) + self.get(row1-1, col1-1) - self.get(row2, col1-1) - self.get(row1-1, col2)
class Solution:
    def numSquares(self, n: int) -> int:
        perfect = [i**2 for i in range(1, int(n**0.5)+1)]

        q = collections.deque()
        q.append([n , 1])
        
        while q:
            value, cnt = q.popleft()
            for pr in perfect:
                if value < pr:
                    break
                if pr == value:
                    return cnt
                q.append([value-pr, cnt+1])
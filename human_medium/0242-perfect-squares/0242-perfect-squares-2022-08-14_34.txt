import math
from functools import cache

class Solution:
    @cache
    def numSquares(self, n: int) -> int:
        if n == 0:
            return 0
        a = math.isqrt(n)
        return min(self.numSquares(n-i**2) for i in range(1,a+1)) + 1
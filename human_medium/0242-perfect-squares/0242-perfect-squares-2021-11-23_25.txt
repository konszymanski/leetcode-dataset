class Solution:
    def numSquares(self, n: int) -> int:
        queue = deque([(0,0)])
        visited = set([0])
        sqrs = []
        num = 1
        while num**2 <= n:
            sqrs.append(num**2)
            num += 1
        while queue:
            cur,level = queue.popleft()
            if cur == n:
                return level
            for sqr in sqrs:
                nxt = cur + sqr
                if nxt <= n and nxt not in visited:
                    visited.add(nxt)
                    queue.append((nxt,level+1))
        return -1
class Solution:
    def numSquares(self, n: int) -> int:
        # If the n itself is a perfect sqaure then return 1
        squareRootN = int(n ** (1/2))
        if (squareRootN ** 2) == n:
            return 1
        # Compute all the perfect squares less than n
        nums = [1]
        for i in range(2, squareRootN + 1):
            nums.append(i ** 2)
		# Now this problem is similar to coin change problem where the count of every coin is unlimited.
        dp = [0] + [sys.maxsize for _ in range(n)]
        
        for i in range(1, n+1):
            for num in nums:
                if i - num >= 0:
                    dp[i] = min(dp[i], dp[i-num] + 1)
        if dp[n] == sys.maxsize:
            return -1
        return dp[n]
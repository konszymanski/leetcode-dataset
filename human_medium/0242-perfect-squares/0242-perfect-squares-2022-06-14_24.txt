class Solution:
    def numSquares(self, n: int) -> int:
        
        dp = {}

        def dfs(num):
            if num == 0:
                return 0
            if num in dp:
                return dp[num]
            
            cnt = 1
            r = inf
            while cnt*cnt <= num:
                r = min(r, 1 + dfs(num - (cnt * cnt)))
                cnt += 1

            dp[num] = r
            
            return r

        retval = dfs(n)
        return retval
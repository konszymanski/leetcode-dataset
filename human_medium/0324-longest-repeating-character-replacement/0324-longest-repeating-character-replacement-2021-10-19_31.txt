class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
  
        left = 0
        right = 0
        
        ht = {}
        longest = 0
        
        while right < len(s):
            letter = s[right]
            if letter not in ht:
                ht[letter] = 0
            
            ht[letter] += 1
            
            max_count = self.get_max(ht)

            cells_count = right - left + 1

            temp = cells_count - max_count
            
            if temp <= k:
                longest = max(longest, cells_count)
                
            else:
                letter = s[left]
                
                ht[letter] -= 1
                if not ht[letter]:
                    # del ht[letter]
                    ht.pop(letter)
                
                left += 1
            
            right += 1
            
        return longest
    
    def get_max(self, ht):
        return max(ht.values())
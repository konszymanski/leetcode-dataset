class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
        window = {}
        window_length = longest_window = window_beginning = 0
        for ch in s:
            # adding ch to window
            window[ch] = window.get(ch, 0) + 1
            max_value_in_window = max(window.values()) # the most freq element in the window
            window_length += 1
            # only need to adjust the window if there are more than k values in the window that are NOT the max value
            while window_length - max_value_in_window > k:
                window[s[window_beginning]] -= 1
                window_length -= 1
                window_beginning += 1 
                
            longest_window = max(window_length, longest_window)
            
        return longest_window
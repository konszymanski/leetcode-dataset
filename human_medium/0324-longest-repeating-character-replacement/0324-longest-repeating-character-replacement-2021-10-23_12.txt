class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
        mapping = defaultdict(int) #map for each character and its count
        i, j = 0, 0
        res = 0
        
        while j < len(s):
			#increment count of current character
            mapping[s[j]] += 1
            
			#if the total of all seen characters - max of all seen characters is greater than k,
			#it means we have utilized all k replacements and we will have to move the left pointer 
			#until there are more replacements available
            while sum(mapping.values()) - max(mapping.values()) > k:
                mapping[s[i]] -= 1
                i += 1
                
			#update the max length at every stage
            res = max(res, j - i + 1)
            j += 1
        return res
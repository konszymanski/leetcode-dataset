class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
        l = lrcr = 0
        reps = {}
        for i in range(len(s)):
            reps[s[i]] = reps.get(s[i], 0) + 1
            currlen = i - l + 1
            if currlen - max(reps.values()) <= k: lrcr = max(lrcr, currlen)
            else: reps[s[l]], l = reps[s[l]] - 1, l + 1
        return lrcr
class Solution(object):
    def flatten(self, head):
        """
        :type head: Node
        :rtype: Node
        """
        cur = head
        while(cur!=None):
            if(cur.child!=None):
                temp = cur.next
                tmp2 = cur.child
                while(tmp2.next!=None):
                    tmp2 = tmp2.next
                if(temp!=None):
                    temp.prev = tmp2
                    tmp2.next = temp
                cur.child.prev = cur
                cur.next = cur.child
                cur.child = None
            cur = cur.next
        return(head)
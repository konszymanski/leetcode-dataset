def flatten(self, head: \'Node\') -> \'Node\':
	cur, stack = head, []

	while cur:
		# Get to the deepest child of this node
		while cur.child:
			stack.append(cur)
			cur = cur.child
		# Get to the rightmost node of the first deepest children (tail of that nested LL)
		while cur.next:
			cur = cur.next
			while cur.child:
				stack.append(cur)
				cur = cur.child

		# Add this LL after parent
		# Note: If cur is nomore the rightmost node after flattening this LL, we\'ll break out of loop
		while stack:
			parent = stack.pop()
			# Child tail Next -> Whatever came after Parent, Parent.next -> First child, Child head prev -> Parent, Parent.child -> None
			cur.next, parent.next, parent.child.prev, parent.child = parent.next, parent.child, parent, None
			# Next node\'s prev -> Child Tail
			if cur.next:
				cur.next.prev = cur
				# No more the rightmost node
				break

		cur = cur.next

	return head
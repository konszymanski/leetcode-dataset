class Solution:
    def flatten_fn(self, node):
        if not node.next:
            node.next = node.child
            node.child.prev = node
            node.child = None
        else:
            temp = node.next
            node.next = node.child
            node.child.prev = node
            node.child = None
            node = node.next
            while node.next:
                node = node.next
            node.next = temp
            temp.prev = node
            
    
    def flatten(self, head: \'Node\') -> \'Node\':
        current = head
        while current:
            if current.child:
                self.flatten_fn(node = current)
            current = current.next
        return head
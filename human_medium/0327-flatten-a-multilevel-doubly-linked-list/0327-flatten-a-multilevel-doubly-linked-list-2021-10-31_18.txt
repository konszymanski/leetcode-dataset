class Solution:
    def flatten(self, head: \'Node\') -> \'Node\':
        stack = [head]
        prev = None
        while stack:
            current  = stack.pop()
            if current:
                current.prev = prev
                stack.append(current.next)
                if prev:
                    prev.next = current
                prev = current
                if current.child:
                    current.next = current.child
                    stack.append(current.child)
                    current.child = None
        return head
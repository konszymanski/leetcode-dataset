class Solution:
    def diffWaysToCompute(self, expression: str) -> List[int]:
		
		# step1: split expression into terms
        s = [0]
        expression = list(expression)
        while expression:
            char = expression.pop(0)
            if char.isdigit():
                s[-1] = s[-1] * 10 + int(char)
            else:
                s.append(char)
                s.append(0)
        
		# step2: traverse all possible results
        res = []
        def dfs(s):
		
			# if s contains a single number, return it
            if len(s)==1:
                return s
            
            res = []
			# choose a divide point
			# for an expression with length n, we have n//2+1 numbers and n//2 operators
			# thus we have n//2 partitions:
            for i in range(len(s)//2):
				# you may check current partiton with this line:
                # print(s[:i*2+1], s[i*2+1], s[i*2+2:])
                lhs, op, rhs = dfs(s[:i*2+1]), s[i*2+1], dfs(s[i*2+2:])
                for output_left in lhs:
                    for output_right in rhs:
                        if op == \'+\':
                            res.append(output_left + output_right)
                        if op == \'-\':
                            res.append(output_left - output_right)
                        if op == \'*\':
                            res.append(output_left * output_right)
            return res
        
        return dfs(s)
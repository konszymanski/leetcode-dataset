from collections import deque
from typing import Iterator


def generate_genes(start: str) -> Iterator[str]:
    for i in range(len(start)):
        for letter in \'ACGT\':
            yield start[:i] + letter + start[i + 1:]


def generate_valid_genes(visited: set[str], bank: set[str], start: str) -> Iterator[str]:
    def validate(gene: str):
        return gene in bank and not gene in visited

    return filter(validate, generate_genes(start))


class Solution:
    def minMutation(self, start: str, end: str, bank: list[str]) -> int:
        bank = set(bank)
        queue = deque([(start, 0)])
        visited = {start}

        while queue:
            gene, level = queue.popleft()

            if gene == end:
                return level

            for current in generate_valid_genes(visited, bank, gene):
                queue.append((current, level + 1))
                visited.add(current)

        return -1
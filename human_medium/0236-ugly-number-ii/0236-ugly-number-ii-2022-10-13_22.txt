class Solution:
    def nthUglyNumber(self, n: int) -> int:
        dp = [1]
        j = 0
        used = set()
        while j <= n:
            for elem in [dp[j]*2, dp[j]*3, dp[j]*5]:
                if elem not in used:
                    bisect.insort(dp, elem)
                    used.add(elem)
            j += 1
        return dp[n - 1]
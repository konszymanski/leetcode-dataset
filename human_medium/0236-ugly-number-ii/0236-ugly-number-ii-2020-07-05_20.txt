class Solution:
    def nthUglyNumber(self, n: int) -> int:
        
        @lru_cache(None)
        def fn(k):
            """Return the smallest ugly number larger than k (not necessarily ugly)."""
            if k == 0: return 1
            return min(f*fn(k//f) for f in (2, 3, 5))
    
        ans = 1
        for _ in range(n-1): ans = fn(ans)
        return ans
class Solution:
    def nthUglyNumber(self, n: int) -> int:
        if n < 7: return n
        
        factors = (2, 3, 5)
        ugly, heap, i = [1], [], 1
        while True:
            for f in factors:
                heappush(heap, ugly[-1]*f)
                
            num = ugly[-1]
            while num == ugly[-1]:
                num = heappop(heap)
            
            ugly.append(num)
            
            i += 1
            if i == n: return ugly[-1]
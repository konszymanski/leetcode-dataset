from sortedcontainers import SortedSet

class Solution:
    def nthUglyNumber(self, n: int) -> int:
        
        ugly_numbers = SortedSet([1])
        
        for _ in range(n):
            n = ugly_numbers[0]
            ugly_numbers.discard(n)
            for f in [2, 3, 5]:
                ugly_numbers.add(f * n)
                
        return n
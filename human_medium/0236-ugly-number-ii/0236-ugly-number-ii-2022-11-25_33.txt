class Solution:
    def nthUglyNumber(self, n: int) -> int:
        #initialize 3 pointers a,b,c
        dp,a,b,c = [1]*n,0,0,0
        for i in range(1,n):
            #the main process can be seen as race, 
            #the slow one can run firstly and ensure that the one behind moves first in each round.
            n2,n3,n5 = dp[a]*2,dp[b]*3,dp[c]*5
            dp[i]=min(n2,n3,n5)
            #if the small one is n2/n3/n4, then the pointer of it will move one step to right. each round only the pointer of small one can be moved, others will stay at the same location.
            if dp[i] == n2:
                a+=1
            if dp[i] == n3:
                b+=1
            if dp[i] == n5:
                c+=1
        return dp[-1]
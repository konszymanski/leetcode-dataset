class Solution:
    def maxProduct(self, words: List[str]) -> int:
        words = sorted(words, key=len, reverse=True) #sorts words by length
        best = 0
        for i in range(len(words) - 1):
            optimal = len(words[i]) * len(words[i + 1]) #calculates optimal word length
            for j in range(i + 1, len(words)):
                if not self.dupes(words[i], words[j]):
                    if len(words[i]) * len(words[j]) > best:
                        best = len(words[i]) * len(words[j])
                        if best == optimal: 
                            return best
        return best
    
    def dupes(self, word1, word2): #Checks for duplicate letters
        for c in word1:
            if c in word2:
                return True
        return False
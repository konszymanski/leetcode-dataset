def f(arr,sm1,sm2,target,mp):
	#check if we already reached at this point before
    if str(sm1)+"-"+str(sm2) in mp:
        return mp[str(sm1)+"-"+str(sm2)]
    else:
		#if any of the two sums s1 and s2 is greater than target(sum of nums /2 ) return false
        if sm1>target or sm2>target:
            ans= False
		# if both the values are equal and also equal to target return true
        elif sm1==target or sm2==target:
            ans= True
        else:
			#otherwise check both possibilities that our current array\'s first element is either added to sm1 or sm2 for getting ans
            ans= f(arr[1:],sm1+arr[0],sm2,target,mp) or f(arr[1:],sm1,sm2+arr[0],target,mp) 
        mp[str(sm1)+"-"+str(sm2)]=ans
        return ans
    
class Solution:
    def canPartition(self, nums: List[int]) -> bool:
        sm=sum(nums)
        if sm%2==1:
            return False
        sm=sm//2
        return f(nums,0,0,sm,{})
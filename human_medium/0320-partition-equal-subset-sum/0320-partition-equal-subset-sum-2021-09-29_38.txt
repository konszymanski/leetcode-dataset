class Solution:
    def canPartition(self, nums: List[int]) -> bool:
        
        
        @lru_cache(maxsize=None)
        def recurse_helper(nums,subset_sum, curr_idx):
            
            #base cases
            
            if subset_sum == 0:
                return True
            
            if curr_idx >= len(nums) or subset_sum < 0:
                return False
            
            return recurse_helper(nums,subset_sum - nums[curr_idx],curr_idx +1) or recurse_helper(nums, subset_sum, curr_idx+1)
                
        total_sum = sum(nums)

        if total_sum % 2 != 0:
            return False 

        subset_sum = total_sum // 2
            
        
        return recurse_helper(tuple(nums),subset_sum,curr_idx=0)
class Solution:
    def canPartition(self, nums: List[int]) -> bool:
   
        n = len(nums)

        total = sum(nums)
        subset_sum = total // 2  # target which we use to divide the subset
        
        if total&1:
            return False  # total must be even to divide into equal subsets
        @cache
        def dfs(ind,s):
            if ind>=n:  # when  we have visited all elements of the array
                return s==subset_sum   # we check the equality of sum we achieved and the half of the total sum
            if s>subset_sum:  # we our s get exceed the value from the subset sum
                return False
            return dfs(ind+1,s+nums[ind]) or dfs(ind+1,s) # either we take the ind value in our sum or not
        
        out = dfs(0,0) # first parameter --> index, second parameter --> initial sum
        return out
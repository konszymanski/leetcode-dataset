class Solution:
    def canPartition(self, nums: List[int]) -> bool:
        subsetSum = sum(nums)
        if subsetSum % 2:
            return False
        subsetSum /= 2
        dp = [{}] *len(nums)
        def sumUp(nums: List[int], index: int, subsetSum: int) -> bool:
            if not subsetSum:
                return True
            if subsetSum < 0 or index == len(nums):
                return False
            if subsetSum in dp[index]:
                return dp[index][subsetSum]
            dp[index][subsetSum] = sumUp(nums, index + 1, subsetSum - nums[index]) or sumUp(nums, index + 1, subsetSum)
            return dp[index][subsetSum]
        return sumUp(nums, 0, subsetSum)
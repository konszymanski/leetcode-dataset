class NestedIterator:
    def __init__(self, nestedList: list[NestedInteger]):
        def flatten(nestedList):
            res = []
            queue = deque(nestedList)

            while queue:
                sz = len(queue)
                for _ in range(sz):
                    curr = queue.popleft()
                    if curr.isInteger():
                        res.append(curr.getInteger())
                    else:
                        l = flatten(curr.getList())
                        res.extend(l)
            return res

        self.l = deque(flatten(nestedList))
    
    def next(self) -> int:
        return self.l.popleft()
    
    def hasNext(self) -> bool:
        return self.l
def eraseOverlapIntervals(self, intervals):
    intervals.sort(key=operator.attrgetter('start', 'end'))
    res = lo = 0
    for hi in range(1, len(intervals)):
        if intervals[lo].end > intervals[hi].start:
            res += 1
        if not intervals[hi].start < intervals[lo].end < intervals[hi].end:
            lo = hi
    return res
import heapq
class Solution(object):

    def frequencySort(self, s):
        """
        :type s: str
        :rtype: str
        """
        # keep frequency count
        fl = {}
       # Count which character shows up how many times
        for c in s:
            if c in fl:
                fl[c] += 1
            else:
                fl[c] = 1
        # convert frequencies to priority queue (character, no of times it appears)
        fl = [(k,v) for k,v in fl.items()]
        heapq.heapify(fl)
        # Construct the string that will be returned
        s = ''
        # Unfortunately max heap is not available in python heap implementation so getting all elements in max order using nlargest method - O(log(n)*m)
        for i in heapq.nlargest(len(fl),fl,key=lambda x: x[1]):
            s += i[0]*i[1]
        return s
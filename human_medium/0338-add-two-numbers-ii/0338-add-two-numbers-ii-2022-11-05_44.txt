# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def addTwoNumbers(self, l1: Optional[ListNode], l2: Optional[ListNode]) -> Optional[ListNode]:

        h1 = None
        h2 = None

        while l1 or l2:

            if l1:
                temp = l1
                l1 = l1.next
                temp.next = h1
                h1 = temp
            
            if l2:
                temp = l2
                l2 = l2.next
                temp.next = h2
                h2 = temp

        ans = None    
        vals = 0 
        while h1 or h2 or vals:

            if h1:
                vals += h1.val
                h1 = h1.next
            if h2:
                vals += h2.val
                h2 = h2.next
            
            temp = ListNode(vals%10)
            temp.next = ans
            ans = temp
            vals = int(vals//10)
        
        return ans
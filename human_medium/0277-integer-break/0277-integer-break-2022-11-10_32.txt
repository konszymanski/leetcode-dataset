class Solution:
    def integerBreak(self, n: int) -> int:
        if n == 2: return 1
        if n == 3: return 2
        if n == 4: return 4
        
        @cache
        def dfs(n):
            if n <= 4: return n
            
            res = 0
            for i in range(1, n):
                res = max(res, i * dfs(n - i))
            
            return res
        return dfs(n)
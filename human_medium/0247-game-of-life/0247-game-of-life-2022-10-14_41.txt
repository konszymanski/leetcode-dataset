class Solution:
    def gameOfLife(self, board: List[List[int]]) -> None:
        """
        Do not return anything, modify board in-place instead.
        """
        m = len(board)
        n = len(board[0])
        # go throught the board row by row
        for rx in range(m):
            for cx in range(n):
                
                # get our current status
                status = board[rx][cx]

                # get the rest of the alive neighbours
                # we only need to check to the right
                # and below us as we already have done
                # the ones left to uns and above us
                alive = 0
                for nrx, ncx in [(rx, cx+1), (rx+1, cx-1), (rx+1, cx), (rx+1, cx+1)]:
                    alive += self.check_and_update_neighbour(nrx, ncx, status, m, n, board)
                
                # now check whether cell was alive
                if status > 0:

                    # update the status
                    status = status + alive

                    # check whether it dies
                    if status < 3 or status > 4:
                        board[rx][cx] = 0
                    # else set it to alive
                    else:
                        board[rx][cx] = 1
                
                # cell was dead and has exactly three neighbours
                elif status <= 0 and status - alive == -3:
                    board[rx][cx] = 1
                else:
                    board[rx][cx] = 0         
    
    def check_and_update_neighbour(self, rx, cx, current_cell, m, n, board):

        # check if indices are out of bound
        if rx < 0 or rx >= m or cx < 0 or cx >= n:
            return 0

        # check whether the cell is alive
        if board[rx][cx] > 0:

            # increase the counter of the alive neighbour
            # cell if we come from an alive cell
            if current_cell > 0:
                board[rx][cx] += 1

            # return 1 as we found an alive neighbour
            return 1

        else:

            # decrease the counter of the dead neighbour
            # cell if we come from an alive cell
            if current_cell > 0:
                board[rx][cx] -= 1

            return 0
class SegmentNode:
    def __init__(self,start,end,val,left_node=None,right_node=None):
        self.start = start
        self.end = end
        self.val = val
        self.left = left_node
        self.right = right_node   

class NumArray:

    def __init__(self, nums: List[int]):
        self.root = self.buildTree(0,len(nums)-1,nums)

    def update(self, index: int, val: int) -> None:
        self.updateTree(self.root,index,val)

    def sumRange(self, left: int, right: int) -> int:
        return self.querysum(self.root,left,right)
        
    def buildTree(self,start,end,nums):
        if start==end:
            return SegmentNode(start,end,nums[start])
        mid = (start+end)//2
        left = self.buildTree(start,mid,nums)
        right = self.buildTree(mid+1,end,nums)
        return SegmentNode(start,end,left.val+right.val,left,right)
    
    def updateTree(self,root,index,val):
        if root.start==root.end==index:
            root.val=val
            return
        mid = (root.start+root.end)//2
        if index<=mid:
            self.updateTree(root.left,index,val)
        else:
            self.updateTree(root.right,index,val)
        root.val = root.left.val+root.right.val
    def querysum(self,root,i,j):
        if root.start==i and root.end==j:
            return root.val
        mid=(root.start+root.end)//2
        if j<=mid:
            return self.querysum(root.left,i,j)
        elif i>mid:
            return self.querysum(root.right,i,j)
        else:
            return self.querysum(root.left,i,mid)+self.querysum(root.right,mid+1,j)
        
        

# Your NumArray object will be instantiated and called as such:
# obj = NumArray(nums)
# obj.update(index,val)
# param_2 = obj.sumRange(left,right)
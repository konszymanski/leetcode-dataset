# approach is to compare left and right difference and if they match update the result
# store the previous diff for reference and update the answer

class Solution:
    def numberOfArithmeticSlices(self, nums: List[int]) -> int:
        if len(nums)<3:
            return 0
        ans,cnt = 0,1
        left_diff,right_diff = nums[1]-nums[0],None
        prev = None
        # run the iteration from index 1 to last index - 1
        
        for i in range(1,len(nums)-1):
            right_diff = nums[i+1]-nums[i]
    
            # [1,3,5] ans = 1,   [1,3,5,7] ans = 3, [1,3,5,7,9] ans = 6, [1,3,5,7,9,11] ans = 10
            # if we observe the answer keeps increasing like 1, 3, 6, 10
            # prev_answer+1, prev_answer+2, prev_answer+3,prev_answer+4
            if left_diff == right_diff:
                cnt = 1 + (cnt if prev is not None and prev==right_diff else 0)
                ans+=cnt
            prev = left_diff
            left_diff = right_diff
            
        return ans
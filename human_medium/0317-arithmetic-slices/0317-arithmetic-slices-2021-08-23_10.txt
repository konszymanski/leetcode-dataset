class Solution:
    def numberOfArithmeticSlices(self, nums: List[int]) -> int:
        n = len(nums)
        index = 1
        output = 0
        while index < n:
            count = 1
            diff = nums[index]-nums[index-1]
            while index < n and nums[index]-nums[index-1] == diff:
                count += 1
                index += 1
            if count >= 3:
                output += (count-2)*(count-1)//2
            
        return output
from typing import List


class Solution:
    def wiggleMaxLength(self, nums: List[int]) -> int:
        # Complexity:
        # - Time: O(N)
        #   where N in the length of `nums`
        # - Space: O(1)
        numIter = iter(nums)
        # Note: `prevDiffPositive` is initialized to `None` so that both an up or down movement are considered a first wiggle
        previousNum, prevDiffPositive, subsequenceLength = next(numIter), None, 1
        for num in numIter:
            if num != previousNum:
                diffPositive = num > previousNum
                if diffPositive != prevDiffPositive:
                    subsequenceLength += 1
                    prevDiffPositive = diffPositive
            previousNum = num
        return subsequenceLength
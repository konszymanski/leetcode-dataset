from bisect import bisect_left

class Solution:
def lengthOfLIS(self, nums: List[int]) -> int:

	# parameterize probs with (i, k) where i, k is the minimum last element of a chain of length k using the first i elements
	# we can compute all 0-k for a given i in log time

	res = []
	for num in nums:
		if len(res) == 0 or num > res[-1]:
			res.append(num)
			continue
		res[bisect.bisect_left(res, num)] = num
	return len(res)
from collections import deque
class Solution:
    # 3 Step solution - 
    # Using deque to check cnt of most significant set ones
    # checking cnt is valid or not
    # Checking if the upcoming sequence is valid or not
    def validUtf8(self, data: List[int]) -> bool:
        queue = deque()
        for i in data:
            bb = \'{0:08b}\'.format(i)
            queue.append(bb)
        while queue:
            if queue[0][0] == \'0\': queue.popleft()
            else:
                curr, cnt = deque(queue.popleft()), 0
                while curr and curr[0] == \'1\':
                    cnt += 1
                    curr.popleft()
                if cnt < 2 or cnt > 4: return False
                cnt -= 1
                while cnt:
                    if not queue: return False
                    ele = queue.popleft()
                    if ele[0] != \'1\' or ele[1] != \'0\': return False
                    cnt -= 1
        return True
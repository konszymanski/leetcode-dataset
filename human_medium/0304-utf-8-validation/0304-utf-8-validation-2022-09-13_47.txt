def validUtf8(data):
    st = 0
    def trans():
        if st == 0:
            if not i & 0b10000000:
                return 0
            if not i & 0b11100000 ^ 0b11000000:
                return 1
            if not i & 0b11110000 ^ 0b11100000:
                return 2
            if not i & 0b11111000 ^ 0b11110000:
                return 3
        else:
            if not i & 0b11000000 ^ 0b10000000:
                return {1: 0, 2: 4, 3: 5, 4: 0, 5: 6, 6: 0}.get(st)
    for i in data:
        st = trans()
        if st is None:
            return False
    return st == 0
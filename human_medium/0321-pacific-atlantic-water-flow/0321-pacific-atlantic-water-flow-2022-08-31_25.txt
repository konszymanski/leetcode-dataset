class Solution:
    def pacificAtlantic(self, heights: List[List[int]]) -> List[List[int]]:
        rows = len(heights); cols = len(heights[0]);
        # DFS to check the neighbouring cells can be visited or not
        def DFS(x: int, y: int, prevHeight: int, visited: set[tuple[int]]):
            if x<0 or x==rows or y<0 or y==cols:
                return;
            if (x,y) in visited:
                return;
            height = heights[x][y];
            if height<prevHeight:
                return;
            visited.add((x,y));
            DFS(x,y+1,height,visited);
            DFS(x,y-1,height,visited);
            DFS(x+1,y,height,visited);
            DFS(x-1,y,height,visited);
            
        pacificCoOrdinates = set();
        atlanticCoOrdinates = set();
            
        for i in range (0, rows):
            DFS(i,0,0,pacificCoOrdinates); #left column is pacific ocean seashore
            DFS(i,cols-1,0,atlanticCoOrdinates); # right column atlantic ocean seashore
        for i in range (0, cols):
            DFS(0,i,0,pacificCoOrdinates); # top row is pacific ocean seashore
            DFS(rows-1,i,0,atlanticCoOrdinates); # bottom row is atlantic ocean seashore
        
        return list(pacificCoOrdinates & atlanticCoOrdinates);
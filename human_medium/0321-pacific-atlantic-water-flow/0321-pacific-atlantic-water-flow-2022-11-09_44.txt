class Solution:
    def pacificAtlantic(self, heights: List[List[int]]) -> List[List[int]]:
        #Pacific contains all the coordinates of Pacific ocean
        #Atlantic contains all coordinates of Atlantic Ocean 
        pacific_ocean = set()
        atlantic_ocean = set()
        ans = []
        #if pacific = first row, first column
        rows = len(heights)
        cols = len(heights[0])
        for i in range(len(heights)):
            for j in range(len(heights[0])):
                if i == 0 or j == 0:
                    pacific_ocean.add((i,j))
                if i == len(heights)-1 or j == len(heights[0])-1:
                    atlantic_ocean.add((i,j))
        #helps to track movable places
        def movable(i,j):
            move_lst = [[0,1],[1,0],[0,-1],[-1,0]]
            lst = []
            for position in move_lst:
                n_r = position[0] + i 
                n_cl = position[1]+j
                if 0 <= n_r<rows and 0 <= n_cl<cols and heights[i][j] >= heights[n_r][n_cl]:
                    lst.append([n_r,n_cl])
            return lst
        #traverse the graph. 
        print(pacific_ocean)
        def dfs(i,j,atlantic_ocean,pacific_ocean):
            atlantic = False
            pacific= False 
            stack = [[i,j]]
            visited = set()
            while stack:
                row,col = stack.pop()
                visited.add((row,col))
                coord = (row,col)
                if coord in pacific_ocean:
                    pacific = True
                if coord in atlantic_ocean:
                    atlantic = True 
                if atlantic == True and pacific == True:
                    return True 
                neighbours =  movable(row,col)
                for neighbour in neighbours:
                    if (neighbour[0],neighbour[1]) not in visited:
                         stack.append(neighbour)
        for i in range(len(heights)):
            for j in range(len(heights[0])):
                if dfs(i,j,atlantic_ocean,pacific_ocean) == True:
                    ans.append([i,j])
        return ans